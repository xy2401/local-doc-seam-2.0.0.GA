<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;30.&nbsp;&#34920;&#36798;&#24335;&#35821;&#35328;&#22686;&#24378;</title><link rel="stylesheet" href="../shared/css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="Seam - &#35821;&#22659;&#30456;&#20851;&#30340;&#32452;&#20214; [&#28385;&#27743;&#32418;20080327]"><link rel="up" href="index.html" title="Seam - &#35821;&#22659;&#30456;&#20851;&#30340;&#32452;&#20214; [&#28385;&#27743;&#32418;20080327]"><link rel="previous" href="controls.html" title="Chapter&nbsp;29.&nbsp;Seam&#30340;JSF&#25511;&#20214;"><link rel="next" href="testing.html" title="Chapter&nbsp;31.&nbsp;&#27979;&#35797;Seam&#24212;&#29992;&#31243;&#24207;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;30.&nbsp;&#34920;&#36798;&#24335;&#35821;&#35328;&#22686;&#24378;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="controls.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="testing.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="elenhancements"></a>Chapter&nbsp;30.&nbsp;&#34920;&#36798;&#24335;&#35821;&#35328;&#22686;&#24378;</h2></div></div><div></div></div><p>
	   	Seam&#25552;&#20379;&#20102;&#19968;&#20010;&#21487;&#25193;&#23637;&#26631;&#20934;&#32479;&#19968;&#34920;&#36798;&#35821;&#35328;&#65288;EL&#65289;&#34987;&#31216;&#20026;JBoss EL&#12290;JBoss EL&#25552;&#20379;&#20102;&#35768;&#22810;&#22686;&#24378;&#34920;&#36798;&#21644;&#26356;&#24378;&#30340;EL&#35821;&#35328;&#26041;&#38754;&#30340;&#21152;&#24378;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e19812"></a>30.1.&nbsp;&#21442;&#25968;&#26041;&#27861;&#32465;&#23450;</h2></div></div><div></div></div><p>
        	&#26631;&#20934;EL&#40664;&#35748;&#20219;&#20309;&#21442;&#25968;&#26041;&#27861;&#37117;&#26159;Java&#20195;&#30721;&#26041;&#24335;&#12290;&#36825;&#23601;&#24847;&#21619;&#30528;&#21442;&#25968;&#26041;&#27861;&#19981;&#33021;&#34987;JSF&#26041;&#24335;&#26469;&#20351;&#29992;&#12290;Seam&#25552;&#20379;&#20102;&#19968;&#20010;&#21152;&#24378;&#24335;&#30340;EL&#20801;&#35768;&#21442;&#25968;&#21253;&#21547;&#22312;&#34920;&#36798;&#24335;&#20013;&#26469;&#34920;&#36798;&#33258;&#24049;&#12290;
        	Seam&#25552;&#20379;&#30340; <span class="emphasis"><em>any</em></span> &#34920;&#36798;&#26041;&#27861;&#65292;&#21253;&#25324;&#20219;&#20309;JSF&#30340;&#32465;&#23450;&#12290;&#20363;&#22914;&#65306;
        </p><pre class="programlisting">&lt;h:commandButton action="#{hotelBooking.bookHotel(hotel)}" value="Book Hotel"/&gt;</pre><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e19822"></a>30.1.1.&nbsp;&#29992;&#27861;</h3></div></div><div></div></div><p>
			  &#21442;&#25968;&#29992;&#25324;&#21495;&#34920;&#31034;&#65292;&#29992;&#36887;&#21495;&#20998;&#38548;&#65306;
			</p><pre class="programlisting">&lt;h:commandButton action="#{hotelBooking.bookHotel(hotel, user)}" value="Book Hotel"/&gt;</pre><p>
			     &#21442;&#25968; <tt class="literal">hotel</tt> &#21644; <tt class="literal">user</tt> &#20250;&#34987;&#20316;&#20026;&#20540;&#34920;&#36798;&#24335;&#35745;&#31639;&#65292;&#24182;&#20256;&#36882;&#21040;&#32452;&#20214;&#30340; <tt class="literal">bookHotel()</tt> &#26041;&#27861;&#20013;&#12290;&#36825;&#35753;&#20320;&#26377;&#20102; <tt class="literal">@In</tt> &#30340;&#26367;&#20195;&#26041;&#27861;&#12290;
			</p><p>&#20219;&#20309;&#20540;&#34920;&#36798;&#24335;&#37117;&#21487;&#20197;&#29992;&#20316;&#21442;&#25968;&#65306;</p><pre class="programlisting">&lt;h:commandButton action="#{hotelBooking.bookHotel(hotel.id, user.username)}"
                 value="Book Hotel"/&gt;</pre><p>
            	<span class="emphasis"><em>&#27880;&#24847;&#65306;</em></span> &#20320;&#19981;&#33021;&#36890;&#36807;&#23545;&#35937;&#30340;&#26041;&#24335;&#26469;&#34920;&#36848;&#65281;&#25152;&#26377;&#30340;&#37117;&#35201;&#26159;&#26159;&#30452;&#25509;&#30340;&#21517;&#31216;&#65292;&#20363;&#22914;&#65292;<tt class="literal">hotel.id</tt> &#21644; <tt class="literal">user.username</tt>&#12290;
            	&#22914;&#26524;&#20320;&#26597;&#30475;&#19979;&#20808;&#21069;&#30340;&#20195;&#30721;&#65292;&#20320;&#23558;&#21487;&#20197;&#30475;&#21040;&#25353;&#38062;&#21629;&#20196;&#21253;&#25324;&#36825;&#20123;&#21517;&#31216;&#12290;&#24403;&#20320;&#35302;&#21457;&#25353;&#38062;&#20107;&#20214;&#30340;&#26102;&#20505;&#65292;&#36825;&#20123;&#21517;&#31216;&#30340;&#34920;&#36848;&#23558;&#34987;&#25552;&#20132;&#21040;&#26381;&#21153;&#22120;&#31471;&#65292;Seam&#23558;&#22312;action&#35843;&#29992;&#21069;&#26469;&#26597;&#35810;&#36825;&#20123;&#25552;&#20132;&#36807;&#26469;&#30340;&#21517;&#31216;&#65288;&#22312;&#20219;&#20309;&#19968;&#20010;&#24212;&#29992;&#31243;&#24207;&#30340;&#19978;&#19979;&#25991;&#20013;&#65289;&#12290;
            	&#22914;&#26524;&#36825;&#20123;&#21517;&#31216;&#34920;&#36848;&#26080;&#27861;&#22312;&#37027;&#26102;&#21051;&#24471;&#21040;&#65288;&#22240;&#20026; <tt class="literal">hotel</tt> &#21644; <tt class="literal">user</tt> &#21464;&#37327;&#19981;&#33021;&#22312;&#20219;&#20309;&#24212;&#29992;&#31243;&#24207;&#30340;&#19978;&#19979;&#25991;&#20013;&#25214;&#21040;&#65289;&#65292;action&#26041;&#27861;&#23558;&#36820;&#22238;&#19968;&#20010; <tt class="literal">null</tt> &#34920;&#36848;&#65281;
            </p><p>
				&#20320;&#29978;&#33267;&#21487;&#20197;&#20256;&#36882;&#21253;&#21547;&#26377;&#21333;&#24341;&#21495;&#25110;&#21452;&#24341;&#21495;&#30340;&#23383;&#31526;&#20018;:
			</p><pre class="programlisting">&lt;h:commandLink action="#{printer.println('Hello world!')}" value="Hello"/&gt;</pre><pre class="programlisting">&lt;h:commandLink action="#{printer.println('Hello again')} value="Hello"/&gt;</pre><p>
			  	&#20320;&#21487;&#33021;&#36824;&#24819;&#25226;&#36825;&#31181;&#26631;&#35760;&#29992;&#22312;&#20320;&#25152;&#26377;&#30340;action&#26041;&#27861;&#19978;&#65292;&#19981;&#31649;&#20182;&#20204;&#26159;&#19981;&#26159;&#38656;&#35201;&#20256;&#36882;&#21442;&#25968;&#12290;&#36825;&#20063;&#33021;&#25552;&#39640;&#31243;&#24207;&#30340;&#21487;&#35835;&#24615;&#65292;&#26126;&#30830;&#34920;&#26126;&#36825;&#26159;&#26041;&#27861;&#34920;&#36798;&#24335;&#32780;&#38750;&#20540;&#34920;&#36798;&#24335;&#65306;
			</p><pre class="programlisting">&lt;s:link value="Cancel" action="#{hotelBooking.cancel()}"/&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e19877"></a>30.1.2.&nbsp;&#38480;&#21046;</h3></div></div><div></div></div><p>&#35831;&#27880;&#24847;&#20197;&#19979;&#30340;&#38480;&#21046;&#65306;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e19882"></a>30.1.2.1.&nbsp;&#19982;JSP 2.1&#19981;&#20860;&#23481;</h4></div></div><div></div></div><p>
					&#36825;&#19968;&#25193;&#23637;&#30446;&#21069;&#19981;&#20860;&#23481;JSP 2.1&#12290;&#22240;&#27492;&#22914;&#26524;&#20320;&#24076;&#26395;&#23558;&#36825;&#19968;&#25193;&#23637;&#29992;&#20110;JSF 1.2&#65292;&#20320;&#24517;&#39035;&#20351;&#29992;Facelets&#12290;&#30446;&#21069;&#36825;&#19968;&#25193;&#23637;&#22312;JSP 2.0&#19979;&#36816;&#20316;&#27491;&#24120;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e19887"></a>30.1.2.2.&nbsp;&#20174;Java&#20195;&#30721;&#20013;&#35843;&#29992; <tt class="literal">MethodExpression</tt>
				</h4></div></div><div></div></div><p>
					&#19968;&#33324;&#32780;&#35328;&#65292;<tt class="literal">MethodExpression</tt> &#25110; <tt class="literal">MethodBinding</tt> &#34987;&#21019;&#24314;&#21518;&#65292;&#21442;&#25968;&#26159;&#36890;&#36807;JSF&#20256;&#36882;&#30340;&#12290;
					&#22914;&#26524;&#26159;&#26041;&#27861;&#32465;&#23450;,JSF&#20551;&#35774;&#19981;&#20250;&#20256;&#36882;&#21442;&#25968;&#12290;&#20351;&#29992;&#36825;&#20010;&#25193;&#23637;&#30340;&#35805;&#65292;&#25105;&#20204;&#30452;&#21040;&#34920;&#36798;&#24335;&#34987;&#35745;&#31639;&#21069;&#65292;&#37117;&#26080;&#27861;&#30693;&#36947;&#21442;&#25968;&#31867;&#22411;&#12290;&#36825;&#23601;&#24102;&#26469;&#20004;&#20010;&#23567;&#30340;&#21103;&#20316;&#29992;&#65306;
				</p><div class="itemizedlist"><ul type="disc"><li><p>
							&#22312;Java&#20195;&#30721;&#20013;&#35843;&#29992; <tt class="literal">MethodExpression</tt>&#65292;&#20320;&#20256;&#36882;&#30340;&#21442;&#25968;&#21487;&#33021;&#34987;&#24573;&#30053;&#12290;&#23450;&#20041;&#22312;&#34920;&#36798;&#24335;&#20013;&#30340;&#21442;&#25968;&#34987;&#20248;&#20808;&#22788;&#29702;&#12290;
						</p></li><li><p>
							&#36890;&#24120;&#65292;&#22312;&#20219;&#20309;&#26102;&#38388;&#35843;&#29992; <tt class="literal">methodExpression.getMethodInfo().getParamTypes()</tt> &#37117;&#26159;&#23433;&#20840;&#30340;&#12290;
							&#20294;&#23545;&#20110;&#21547;&#26377;&#21442;&#25968;&#30340;&#34920;&#36798;&#24335;&#65292;&#20320;&#24517;&#39035;&#20808;&#35843;&#29992; <tt class="literal">MethodExpression</tt>&#65292;&#25165;&#33021;&#35843;&#29992; <tt class="literal">getParamTypes()</tt>&#12290;
						</p></li></ul></div><p>
					&#20197;&#19978;&#20004;&#31181;&#24773;&#20917;&#37117;&#21313;&#20998;&#32597;&#35265;&#65292;&#32780;&#19988;&#21482;&#21457;&#29983;&#22312;&#20320;&#22312;Java&#20195;&#30721;&#20013;&#25163;&#21160;&#35843;&#29992; <tt class="literal">MethodExpression</tt> &#30340;&#26102;&#20505;&#12290;
				</p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e19925"></a>30.2.&nbsp;&#21442;&#25968;&#20540;&#32465;&#23450;</h2></div></div><div></div></div><p>
        	&#26631;&#20934;EL&#20165;&#20801;&#35768;&#35775;&#38382;&#23646;&#24615;&#36825;&#20010;&#25104;&#20102;JavaBean&#21629;&#21517;&#30340;&#32422;&#23450;&#12290;&#20363;&#22914;&#65292;&#34920;&#36798;&#24335; <tt class="literal">#{person.name}</tt> &#35201;&#27714; <tt class="literal">getName()</tt> &#34920;&#31034;&#24403;&#21069;&#30340;&#20540;&#12290;
        	&#28982;&#32780;&#35768;&#22810;&#30340;&#23545;&#35937;&#21364;&#27809;&#26377;&#24688;&#24403;&#30340;&#21629;&#21517;&#23646;&#24615;&#25110;&#32773;&#21442;&#25968;&#12290;&#36825;&#20123;&#20540;&#33021;&#34987;&#20351;&#29992;&#30340;&#26041;&#27861;&#26469;&#35843;&#29992;&#65292;&#36825;&#20010;&#23601;&#21644;&#21442;&#25968;&#26041;&#27861;&#32465;&#23450;&#24456;&#30456;&#20284;&#12290;&#20363;&#22914;&#65292;&#19979;&#38754;&#34920;&#36798;&#24335;&#23601;&#26159;&#20351;&#29992; <tt class="literal">length()</tt> &#26041;&#27861;&#36820;&#22238;&#19968;&#20010;&#23383;&#31526;&#20018;&#30340;&#22823;&#23567;&#12290;
        </p><pre class="programlisting">#{person.name.length()}</pre><p>
        &#20320;&#21487;&#20197;&#36890;&#36807;&#19968;&#20010;&#30456;&#31867;&#20284;&#30340;&#26041;&#27861;&#26469;&#35775;&#38382;&#19968;&#20010;&#38598;&#21512;&#30340;&#22823;&#23567;&#12290;
		</p><pre class="programlisting">#{searchResults.size()}</pre><p>
			&#22312;&#19968;&#33324;&#30340; form #{obj.property} &#34920;&#36798;&#24335;&#20013;&#21487;&#20197;&#31561;&#21516;&#20110;&#34920;&#36798;&#24335; #{obj.getProperty()}&#12290;
		</p><p>
        	&#24403;&#28982;&#21442;&#25968;&#30340;&#26041;&#24335;&#20063;&#26159;&#20801;&#35768;&#30340;&#65292;&#21482;&#35201;&#25353;&#29031;&#21516;&#26679;&#38480;&#21046;&#30340;&#26041;&#27861;&#26469;&#32465;&#23450;&#26159;&#19968;&#26679;&#30340;&#12290;
        	&#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#23601;&#26159;&#36890;&#36807;&#25991;&#23383;&#23383;&#31526;&#20018;&#35843;&#29992; <tt class="literal">productsByColorMethod</tt> &#30340;&#12290;
        </p><pre class="programlisting">#{controller.productsByColor('blue')}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e19954"></a>30.3.&nbsp;&#26144;&#23556;</h2></div></div><div></div></div><p>
        	JBoss EL&#25903;&#25345;&#26377;&#38480;&#30340;&#26144;&#23556;&#35821;&#27861;&#12290;&#36825;&#37324;&#35201;&#24378;&#35843;&#30340;&#19968;&#28857;&#23601;&#26159;&#36825;&#20010;&#35821;&#27861;&#19981;&#33021;&#34987;Facelets&#25110;&#32773;JSP&#35299;&#26512;&#20063;&#19981;&#33021;&#22312;xhtml&#25110;&#32773;JSP&#20013;&#20351;&#29992;&#12290;
        	&#25105;&#20204;&#26399;&#24453;&#22312;&#19979;&#19968;&#20010;JBoss EL&#29256;&#26412;&#20013;projection&#35821;&#27861;&#20013;&#23558;&#24471;&#21040;&#25913;&#21464;&#12290;
        </p><p>
        	&#26144;&#23556;&#34920;&#36798;&#24335;&#26159;&#36890;&#36807;&#22810;&#20540;&#65288;list, set&#31561;&#31561;&#65289;&#34920;&#36798;&#24335;&#26469;&#20307;&#29616;&#19968;&#20010;&#23376;&#34920;&#36798;&#24335;&#30340;&#12290;&#20363;&#22914;&#65292;&#34920;&#36798;&#24335;&#65306;
        </p><pre class="programlisting">#{company.departments}</pre><p>
        	&#21487;&#20197;&#36820;&#22238;&#19968;&#20010;department&#30340;list&#38598;&#21512;&#12290;&#22914;&#26524;&#20320;&#20165;&#38656;&#35201;department name&#30340;&#38598;&#21512;&#65292;&#37027;&#20040;&#20320;&#30340;&#36873;&#39033;&#23601;&#35201;&#36890;&#36807;&#36941;&#21382;&#36845;&#20195;&#30340;&#26041;&#24335;&#26469;&#33719;&#21462;&#20540;&#12290;JBoss EL&#25903;&#25345;&#36825;&#26679;&#19968;&#20010;&#26144;&#23556;&#34920;&#36798;&#24335;&#12290;
        </p><pre class="programlisting">#{company.departments.{d|d.name}}</pre><p>
        	&#23376;&#34920;&#36798;&#24335;&#34987;&#22823;&#25324;&#21495;{}&#21253;&#22260;&#36215;&#26469;&#12290;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#34920;&#36798;&#24335; <tt class="literal">d.name</tt> &#26159;&#36941;&#21382;&#24471;&#21040;&#30340;&#27599;&#20010;department&#20540;&#65292;&#20351;&#29992; <tt class="literal">d</tt> &#20316;&#20026;department&#23545;&#35937;&#30340;&#21035;&#21517;&#12290;
        	&#36825;&#20010;&#34920;&#36798;&#24335;&#30340;&#32467;&#26524;&#26159;&#19968;&#20010;String&#20540;&#30340;&#38598;&#21512;&#12290;
        </p><p>
        	&#20219;&#20309;&#19968;&#20010;&#26377;&#25928;&#34920;&#36798;&#24335;&#30340;&#37117;&#21487;&#20197;&#22312;&#34920;&#36798;&#24335;&#20013;&#20351;&#29992;&#12290;&#20551;&#22914;&#20320;&#24819;&#30693;&#36947;&#22312;&#20844;&#21496;&#25152;&#26377;department&#65288;&#37096;&#38376;&#65289;&#20010;&#25968;&#30340;&#26102;&#20505;&#65292;&#19979;&#38754;&#23427;&#23601;&#21487;&#20197;&#24456;&#22909;&#39564;&#35777;&#20070;&#20889;&#27491;&#30830;&#24615;&#12290;
        </p><pre class="programlisting">#{company.departments.{d|d.size()}}</pre><p>
        	&#26144;&#23556;&#21487;&#20197;&#34987;&#23884;&#22871;&#12290;&#19979;&#38754;&#30340;&#34920;&#36798;&#24335;&#36820;&#22238;&#30340;&#23601;&#26159;&#22312;&#27599;&#20010;department&#27599;&#20010;&#38599;&#21592;&#30340;&#21517;&#23383;&#12290;
        </p><pre class="programlisting">#{company.departments.{d|d.employees.{emp|emp.lastName}}}</pre><p>
        	&#23884;&#22871;&#26144;&#23556;&#26377;&#26102;&#21487;&#33021;&#26377;&#28857;&#26840;&#25163;&#65292;&#19979;&#38754;&#30340;&#34920;&#36798;&#24335;&#23601;&#26159;&#36820;&#22238;&#19968;&#20010;&#25152;&#26377;department&#25152;&#26377;employee&#30340;&#38598;&#21512;&#12290;
        </p><pre class="programlisting">#{company.departments.{d|d.employees}}</pre><p>
        	&#20294;&#26159;&#65292;&#23427;&#23454;&#38469;&#19978;&#35201;&#36820;&#22238;&#21333;&#20010;department&#25152;&#26377;employee&#65288;&#38599;&#21592;&#65289;&#30340;&#38598;&#21512;&#12290;&#20026;&#20102;&#21516;&#26102;&#20855;&#26377;&#36825;&#20010;&#20540;&#65292;&#23427;&#36824;&#38656;&#35201;&#19968;&#20010;&#31245;&#24494;&#38271;&#28857;&#30340;&#34920;&#36798;&#24335;&#12290;
        </p><pre class="programlisting">#{company.departments.{d|d.employees.{e|e}}}</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="controls.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="testing.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;29.&nbsp;Seam&#30340;JSF&#25511;&#20214;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;31.&nbsp;&#27979;&#35797;Seam&#24212;&#29992;&#31243;&#24207;</td></tr></table></div></body></html>