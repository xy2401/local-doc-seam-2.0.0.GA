<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;17.&nbsp;&#30005;&#23376;&#37038;&#20214;</title><link rel="stylesheet" href="../shared/css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="Seam - &#35821;&#22659;&#30456;&#20851;&#30340;&#32452;&#20214; [&#28385;&#27743;&#32418;20080327]"><link rel="up" href="index.html" title="Seam - &#35821;&#22659;&#30456;&#20851;&#30340;&#32452;&#20214; [&#28385;&#27743;&#32418;20080327]"><link rel="previous" href="itext.html" title="Chapter&nbsp;16.&nbsp;iText PDF&#29983;&#25104;"><link rel="next" href="jms.html" title="Chapter&nbsp;18.&nbsp;&#24322;&#27493;&#21644;&#28040;&#24687;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;17.&nbsp;&#30005;&#23376;&#37038;&#20214;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="itext.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="jms.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="mail"></a>Chapter&nbsp;17.&nbsp;&#30005;&#23376;&#37038;&#20214;</h2></div></div><div></div></div><p>
	Seam&#29616;&#22312;&#21253;&#21547;&#20102;&#19968;&#20010;&#29992;&#20110;&#27169;&#26495;&#21644;&#21457;&#36865;&#37038;&#20214;&#30340;&#21487;&#36873;&#32452;&#20214;&#12290;
	</p><p>
    &#37038;&#20214;&#25903;&#25345;&#26159;&#30001; <tt class="literal">jboss-seam-mail.jar</tt> &#25552;&#20379;&#30340;&#12290;
	&#36825;&#20010;JAR&#21253;&#21253;&#25324;&#29992;&#20110;&#21019;&#24314;&#37038;&#20214;&#30340;mail JSF&#25511;&#20214;&#65292;&#20197;&#21450; <tt class="literal">mailSession</tt> &#31649;&#29702;&#32452;&#20214;&#12290;
  </p><p>
	examples/mail&#39033;&#30446;&#21253;&#25324;&#19968;&#20221;&#23454;&#29992;&#30340;email&#25903;&#25345;&#31034;&#20363;&#12290;&#35813;&#20363;&#23376;&#31034;&#33539;&#20102;&#24688;&#24403;&#30340;&#25171;&#21253;&#26041;&#24335;&#65292;&#24182;&#19988;&#21253;&#21547;&#20102;&#19968;&#20123;&#24403;&#21069;&#25903;&#25345;&#30340;&#20851;&#38190;&#29305;&#24615;&#12290;
	</p><p>
    &#20320;&#20063;&#21487;&#20197;&#20351;&#29992;Seam&#30340;&#38598;&#25104;&#27979;&#35797;&#29615;&#22659;&#26469;&#27979;&#35797;&#20320;&#30340;mail&#31243;&#24207;&#65292;&#21442;&#35265; <a href="testing.html#testing.mail" title="31.3.2.&nbsp;Seam Mail&#38598;&#25104;&#27979;&#35797;">Section&nbsp;31.3.2, &#8220;Seam Mail&#38598;&#25104;&#27979;&#35797;&#8221;</a>&#12290;
	</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11160"></a>17.1.&nbsp;&#21019;&#24314;&#19968;&#26465;&#28040;&#24687;</h2></div></div><div></div></div><p>
		&#20026;&#20102;&#20351;&#29992;Seam Mail&#65292;&#20320;&#24182;&#19981;&#38656;&#35201;&#23436;&#25972;&#30340;&#23398;&#20064;&#19968;&#38376;&#27169;&#26495;&#35821;&#35328;&#8212;&#19968;&#23553;&#37038;&#20214;&#20165;&#20165;&#26159;&#19968;&#20010;facelet&#65281;&#12304;Facelet&#26159;&#29992;&#26469;&#24314;&#31435;JSF&#24212;&#29992;&#31243;&#24207;&#26102;&#30340;&#19968;&#20010;&#21487;&#20379;&#36873;&#25321;&#30340;&#34920;&#29616;&#23618;&#25216;&#26415;&#12305;
		</p><pre class="programlisting">&lt;m:message xmlns="http://www.w3.org/1999/xhtml"
    xmlns:m="http://jboss.com/products/seam/mail"
    xmlns:h="http://java.sun.com/jsf/html"&gt;

    &lt;m:from name="Peter" address="peter@example.com" /&gt;
    &lt;m:to name="#{person.firstname} #{person.lastname}"&gt;#{person.address}&lt;/m:to&gt;
    &lt;m:subject&gt;Try out Seam!&lt;/m:subject&gt;

    &lt;m:body&gt;
        &lt;p&gt;&lt;h:outputText value="Dear #{person.firstname}" /&gt;,&lt;/p&gt;
        &lt;p&gt;You can try out Seam by visiting
        &lt;a href="http://labs.jboss.com/jbossseam"&gt;http://labs.jboss.com/jbossseam&lt;/a&gt;.&lt;/p&gt;
        &lt;p&gt;Regards,&lt;/p&gt;
        &lt;p&gt;Pete&lt;/p&gt;
    &lt;/m:body&gt;

&lt;/m:message&gt;</pre><p>
	  <tt class="literal">&lt;m:message&gt;</tt> &#26631;&#31614;&#21253;&#35013;&#25972;&#20010;&#28040;&#24687;&#65292;&#24182;&#19988;&#36890;&#30693;Seam&#24320;&#22987;&#28210;&#26579;&#19968;&#23553;&#37038;&#20214;&#12290;
	  &#22312;&#36825;&#20010; <tt class="literal">&lt;m:message&gt;</tt> &#26631;&#31614;&#20869;&#65292;&#25105;&#20204;&#20351;&#29992;&#26631;&#31614; <tt class="literal">&lt;m:from&gt;</tt> &#26469;&#35774;&#32622;&#36825;&#20010;&#28040;&#24687;&#26159;&#26469;&#33258;&#35841;&#65292;
	  &#20351;&#29992;&#26631;&#31614; <tt class="literal">&lt;m:to&gt;</tt> &#26469;&#26631;&#35782;&#21457;&#36865;&#32773;&#65288;&#27880;&#24847;&#25105;&#20204;&#23601;&#21644;&#22312;&#26222;&#36890;&#30340;facelet&#37324;&#19968;&#26679;&#20351;&#29992;EL&#65289;&#65292;&#21644; <tt class="literal">&lt;m:subject&gt;</tt> &#26631;&#31614;&#12290;
    </p><p>
		<tt class="literal">&lt;m:body&gt;</tt> &#26631;&#31614;&#21253;&#35013;&#37038;&#20214;&#30340;&#20027;&#20307;&#12290;&#20320;&#21487;&#20197;&#20687;JSF&#32452;&#20214;&#37027;&#26679;&#23558;&#27491;&#35268;&#30340;HTML&#26631;&#31614;&#29992;&#22312;&#37038;&#20214;&#20027;&#20307;&#20869;&#12290;
		</p><p>
		&#22909;&#65292;&#29616;&#22312;&#20320;&#24050;&#32463;&#26377;&#20102;email&#30340;&#27169;&#26495;&#65292;&#20320;&#23558;&#22914;&#20309;&#21457;&#36865;&#23427;&#21602;&#65311;
		&#22312; <tt class="literal">m:message</tt> &#30340;&#32467;&#23614;&#65292;<tt class="literal">mailSession</tt> &#23558;&#34987;&#35843;&#29992;&#65292;&#29992;&#20110;&#21457;&#36865;&#37038;&#20214;&#12290;
		&#25152;&#20197;&#65292;&#20320;&#25152;&#26377;&#35201;&#20570;&#30340;&#20165;&#20165;&#26159;&#35831;&#27714;Seam&#28210;&#26579;&#36825;&#20010;&#35270;&#22270;&#65306;
		</p><pre class="programlisting">@In(create=true)
private Renderer renderer;

public void send() {
    try {
       renderer.render("/simple.xhtml");
       facesMessages.add("Email sent successfully");
   }
   catch (Exception e) {
       facesMessages.add("Email sending failed: " + e.getMessage());
   }
}</pre><p>
		&#20551;&#22914;&#65306;&#20320;&#36755;&#20837;&#20102;&#19968;&#20010;&#26080;&#25928;&#30340;email&#22320;&#22336;&#65292;&#23558;&#20250;&#25243;&#20986;&#19968;&#20010;&#24322;&#24120;&#12290;&#35813;&#24322;&#24120;&#23558;&#34987;&#25429;&#25417;&#24182;&#26174;&#31034;&#32473;&#29992;&#25143;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11201"></a>17.1.1.&nbsp;&#38468;&#20214;</h3></div></div><div></div></div><p>
			Seam&#20013;&#37038;&#20214;&#28155;&#21152;&#38468;&#20214;&#30340;&#25805;&#20316;&#21464;&#24471;&#36731;&#32780;&#26131;&#20030;&#12290;&#22312;&#22788;&#29702;&#25991;&#20214;&#26102;&#65292;&#23427;&#25903;&#25345;&#32477;&#22823;&#22810;&#25968;&#30340;&#26631;&#20934;Java&#31867;&#22411;&#12290;
			</p><p>
			&#22914;&#26524;&#20320;&#24819;&#36890;&#36807;&#37038;&#20214;&#21457;&#36865; <tt class="literal">jboss-seam-mail.jar</tt>&#65306;
			</p><pre class="programlisting">&lt;m:attachment value="/WEB-INF/lib/jboss-seam-mail.jar"/&gt;</pre><p>
			Seam&#23558;&#36890;&#36807;classpath&#21152;&#36733;&#25991;&#20214;&#65292;&#24182;&#23558;&#20854;&#38468;&#20214;&#21152;&#20837;&#21040;&#21040;&#37038;&#20214;&#20013;&#12290;
			&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#23427;&#23558;&#34987;&#20687; <tt class="literal">jboss-seam-mail.jar</tt> &#19968;&#26679;&#21152;&#36733;&#65307;
			&#22914;&#26524;&#20320;&#24819;&#20026;&#23427;&#28155;&#21152;&#21035;&#21517;&#65292;&#21482;&#38656;&#35201;&#28155;&#21152; <tt class="literal">fileName</tt> &#23646;&#24615;&#21363;&#21487;&#12290;
      		</p><pre class="programlisting">&lt;m:attachment value="/WEB-INF/lib/jboss-seam-mail.jar" fileName="this-is-so-cool.jar"/&gt;</pre><p>
			&#20320;&#21516;&#26679;&#21487;&#20197;&#38468;&#21152; <tt class="literal">java.io.File</tt>&#12289;<tt class="literal">java.net.URL</tt>&#65306;
			</p><pre class="programlisting">&lt;m:attachment value="#{numbers}"/&gt;</pre><p>
			&#20063;&#21487;&#20197;&#26159; <tt class="literal">byte[]</tt> &#25110;&#26159; <tt class="literal">java.io.InputStream</tt>&#65306;
			</p><pre class="programlisting">&lt;m:attachment value="#{person.photo}" contentType="image/png"/&gt;</pre><p>
			&#20320;&#20250;&#27880;&#24847;&#21040;&#23545;&#20110; <tt class="literal">byte[]</tt> &#21644; <tt class="literal">java.io.InputStream</tt>&#65292;
			&#20320;&#38656;&#35201;&#25351;&#23450;&#38468;&#20214;&#30340;MIME&#31867;&#22411;&#65288;&#22240;&#20026;&#36825;&#20004;&#31181;&#25991;&#20214;&#19981;&#24102;&#27492;&#31867;&#20449;&#24687;&#12290;&#65289;
			</p><p>
			&#26356;&#22909;&#30340;&#26159;&#65292;&#20320;&#21487;&#20197;&#38468;Seam&#20135;&#29983;&#30340;PDF&#25110;&#20219;&#24847;&#26631;&#20934;&#30340;JSF&#35270;&#22270;&#65292;&#21482;&#38656;&#23558;&#20320;&#20351;&#29992;&#30340;&#26222;&#36890;&#26631;&#31614;&#29992; <tt class="literal">&lt;m:attachment&gt;</tt> &#23553;&#35013;&#36215;&#26469;&#21363;&#21487;&#65306;
			</p><pre class="programlisting">&lt;m:attachment fileName="tiny.pdf"&gt;
    &lt;p:document&gt;
        A very tiny PDF
    &lt;/p:document&gt;
&lt;/m:attachment&gt;</pre><p>
			&#22914;&#26524;&#20320;&#24819;&#23558;&#22810;&#20010;&#25991;&#20214;&#28155;&#21152;&#21040;&#38468;&#20214;&#20013;&#65288;&#20363;&#22914;&#20174;&#25968;&#25454;&#24211;&#21152;&#36733;&#30340;&#19968;&#22871;&#29031;&#29255;&#65289;&#65292;&#20320;&#21482;&#38656;&#35201;&#20351;&#29992; <tt class="literal">&lt;ui:repeat&gt;</tt>&#65306;
			</p><pre class="programlisting">&lt;ui:repeat value="#{people}" var="person"&gt;
    &lt;m:attachment value="#{person.photo}" contentType="image/jpeg" fileName="#{person.firstname}_#{person.lastname}.jpg"/&gt;
&lt;/ui:repeat&gt;</pre><p>
			&#22914;&#26524;&#20320;&#24819;&#30452;&#25509;&#26174;&#31034;&#19968;&#20010;&#38468;&#19978;&#30340;&#22270;&#29255;&#65306;
			</p><pre class="programlisting">&lt;m:attachment
    value="#{person.photo}"
    contentType="image/jpeg"
    fileName="#{person.firstname}_#{person.lastname}.jpg"
    status="personPhoto"
    disposition="inline" /&gt;
&lt;img src="cid:#{personPhoto.contentId}" /&gt;</pre><p>
			&#20320;&#21487;&#33021;&#20250;&#38382; <tt class="literal">cid:#{...}</tt> &#30340;&#20316;&#29992;&#26159;&#20160;&#20040;&#12290;
			&#26159;&#36825;&#26679;&#30340;&#65292;IETF&#26126;&#30830;&#35268;&#23450;&#23558;&#36825;&#20010;&#26631;&#31614;&#21152;&#20837;&#20316;&#20026;&#20320;&#22270;&#29255;&#30340;src&#65288;&#28304;&#25991;&#20214;&#65289;&#65292;&#24403;&#35797;&#30528;&#23450;&#20301;&#22270;&#29255;&#65288;<tt class="literal">Content-ID</tt>&#24517;&#39035;&#21305;&#37197;&#65289;&#26102;&#65292;&#23427;&#23601;&#33021;&#22815;&#34987;&#26597;&#25214;&#21040;&#12290;&#8212; &#22810;&#20040;&#31070;&#22855;&#65281;
			</p><p>
			&#22312;&#35775;&#38382;&#29366;&#24577;&#23545;&#35937;&#20043;&#21069;&#20320;&#24517;&#39035;&#22768;&#26126;&#38468;&#20214;&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11279"></a>17.1.2.&nbsp;HTML/Text &#20132;&#26367;&#37096;&#20998;</h3></div></div><div></div></div><p>
			&#23613;&#31649;&#29616;&#22312;&#32477;&#22823;&#22810;&#25968;&#30340;&#37038;&#20214;&#26597;&#30475;&#22120;&#37117;&#25903;&#25345;HTML&#26684;&#24335;&#30340;&#37038;&#20214;&#65292;&#20294;&#36824;&#26159;&#26377;&#19968;&#20123;&#19981;&#25903;&#25345;&#65292;&#25152;&#20197;&#20320;&#21487;&#20197;&#22312;&#37038;&#20214;&#20307;&#37324;&#28155;&#21152;&#19968;&#20010;&#26080;&#26684;&#24335;&#30340;&#25991;&#26412;&#20316;&#20026;&#26367;&#25442;&#12290;
			</p><pre class="programlisting">&lt;m:body&gt;
    &lt;f:facet name="alternative"&gt;Sorry, your email reader can't show our fancy email,
please go to http://labs.jboss.com/jbossseam to explore Seam.&lt;/f:facet&gt;
&lt;/m:body&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11286"></a>17.1.3.&nbsp;&#22810;&#20010;&#25910;&#20214;&#20154;</h3></div></div><div></div></div><p>
			&#24456;&#22810;&#26102;&#20505;&#20320;&#24076;&#26395;&#21521;&#19968;&#20010;&#25910;&#20214;&#32452;&#65288;&#27604;&#22914;&#20320;&#30340;&#29992;&#25143;&#20204;&#65289;&#21457;&#36865;&#37038;&#20214;&#12290;
			&#25152;&#26377;&#30340;&#25910;&#20214;&#20154;&#26631;&#31614;&#21487;&#20197;&#34987;&#25918;&#22312;&#19968;&#20010; <tt class="literal">&lt;ui:repeat&gt;</tt> &#26631;&#31614;&#20013;&#65306;
			</p><pre class="programlisting">&lt;ui:repeat value="#{allUsers} var="user"&gt;
    &lt;m:to name="#{user.firstname} #{user.lastname}" address="#{user.emailAddress}" /&gt;
&lt;/ui:repeat&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11296"></a>17.1.4.&nbsp;&#22810;&#26465;&#20449;&#24687;</h3></div></div><div></div></div><p>
			&#26377;&#26102;&#20505;&#65292;&#20320;&#38656;&#35201;&#21521;&#27599;&#19968;&#20010;&#25910;&#20214;&#20154;&#21457;&#36865;&#19968;&#26465;&#31245;&#24494;&#26377;&#24046;&#21035;&#30340;&#20449;&#65288;&#20363;&#22914;&#65306;&#37325;&#35774;&#23494;&#30721;&#65289;&#12290;
			&#26368;&#22909;&#30340;&#26041;&#27861;&#23601;&#26159;&#23558;&#25972;&#20010;&#20449;&#24687;&#25918;&#22312; <tt class="literal">&lt;ui:repeat&gt;</tt> &#26631;&#31614;&#20013;&#65306;
			</p><pre class="programlisting">&lt;ui:repeat value="#{people}" var="p"&gt;
    &lt;m:message&gt;
        &lt;m:from name="#{person.firstname} #{person.lastname}"&gt;#{person.address}&lt;/m:from&gt;
        &lt;m:to name="#{p.firstname}"&gt;#{p.address}&lt;/m:to&gt;
            ...
    &lt;/m:message&gt;
&lt;/ui:repeat&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11306"></a>17.1.5.&nbsp;&#27169;&#26495;</h3></div></div><div></div></div><p>
			&#37038;&#20214;&#27169;&#26495;&#31034;&#20363;&#26174;&#31034;&#65288;facelets&#27169;&#26495;&#65289;&#21487;&#20197;&#21644;Seam&#30340;mail&#26631;&#31614;&#24456;&#22909;&#30340;&#32467;&#21512;&#12290;
			</p><p>
			&#25105;&#20204;&#30340; <tt class="literal">template.xhtml</tt> &#21253;&#25324;&#65306;
			</p><pre class="programlisting">&lt;m:message&gt;
   &lt;m:from name="Seam" address="do-not-reply@jboss.com" /&gt;
   &lt;m:to name="#{person.firstname} #{person.lastname}"&gt;#{person.address}&lt;/m:to&gt;
   &lt;m:subject&gt;#{subject}&lt;/m:subject&gt;
   &lt;m:body&gt;
       &lt;html&gt;
           &lt;body&gt;
               &lt;ui:insert name="body"&gt;This is the default body, specified by the template.&lt;/ui:insert&gt;
           &lt;/body&gt;
       &lt;/html&gt;
   &lt;/m:body&gt;
&lt;/m:message&gt;</pre><p>
			&#25105;&#20204;&#30340; <tt class="literal">templating.xhtml</tt> &#21253;&#25324;&#65306;
			</p><pre class="programlisting">&lt;ui:param name="subject" value="Templating with Seam Mail"/&gt;
&lt;ui:define name="body"&gt;
    &lt;p&gt;This example demonstrates that you can easily use &lt;i&gt;facelets templating&lt;/i&gt; in email!&lt;/p&gt;
&lt;/ui:define&gt;</pre><p>
			&#20320;&#20063;&#21487;&#20197;&#22312;&#20320;&#30340;&#37038;&#20214;&#20013;&#20351;&#29992;facelet&#30340;&#28304;&#26631;&#31614;&#65292;&#20294;&#20320;&#24517;&#39035;&#23558;&#23427;&#20204;&#32622;&#20110;&#19968;&#20010;jar&#21253;&#20013;&#24182;&#25918;&#22312; <tt class="literal">WEB-INF/lib</tt> &#30446;&#24405;&#19979;
			&#65293; &#24403;&#20351;&#29992;Seam Mail&#20174; <tt class="literal">web.xml</tt> &#24341;&#29992; <tt class="literal">.taglib.xml</tt> &#24182;&#19981;&#21487;&#38752;&#12290;
			&#65288;&#22240;&#20026;&#22914;&#26524;&#20320;&#24322;&#27493;&#30340;&#21457;&#36865;&#20320;&#30340;&#37038;&#20214;&#65292;Seam Mail&#26080;&#27861;&#35775;&#38382;&#21040;&#23436;&#25972;&#30340;JSF&#25110;Servlet&#19978;&#19979;&#25991;&#65292;&#25152;&#20197;&#24182;&#19981;&#30693;&#36947;&#12288;<tt class="literal">web.xml</tt> &#30340;&#37197;&#32622;&#21442;&#25968;&#65289;
			</p><p>
			&#21457;&#36865;&#37038;&#20214;&#26102;&#65292;&#22914;&#26524;&#20320;&#38656;&#35201;&#26356;&#22810;&#30340;&#37197;&#32622;Facelets&#25110;JSF&#65292;&#20320;&#38656;&#35201;&#37325;&#36733;Renderer&#32452;&#20214;&#65292;&#24182;&#19988;&#32534;&#31243;&#24335;&#22320;&#20570;&#37197;&#32622;&#24037;&#20316; &#65293; &#20165;&#38480;&#20110;&#39640;&#32423;&#29992;&#25143;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11341"></a>17.1.6.&nbsp;&#22269;&#38469;&#21270;</h3></div></div><div></div></div><p>
			Seam&#25903;&#25345;&#21457;&#36865;&#22269;&#38469;&#21270;&#30340;&#20449;&#24687;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#20351;&#29992;JSF&#25552;&#20379;&#30340;&#32534;&#30721;&#65292;&#20294;&#20063;&#21487;&#20197;&#30001;&#22914;&#19979;&#30340;&#27169;&#26495;&#37325;&#20889;&#65306;
			</p><pre class="programlisting">&lt;m:message charset="UTF-8"&gt;
   ...
&lt;/m:message&gt;</pre><p>
			&#37038;&#20214;&#20869;&#23481;&#12289;&#20027;&#39064;&#21644;&#25910;&#20214;&#20154;&#65288;&#21644;&#21457;&#20214;&#20154;&#65289;&#30340;&#21517;&#31216;&#37117;&#20250;&#34987;&#32534;&#30721;&#12290;&#36890;&#36807;&#35774;&#32622;&#27169;&#26495;&#30340;&#32534;&#30721;&#65292;&#20320;&#38656;&#35201;&#30830;&#35748;facelets&#26159;&#21542;&#20351;&#29992;&#20102;&#27491;&#30830;&#30340;&#32534;&#30721;&#26041;&#24335;&#26469;&#35299;&#26512;&#20320;&#30340;&#39029;&#38754;&#12290;
			</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11352"></a>17.1.7.&nbsp;&#20854;&#23427;&#30340;&#26631;&#35782;&#22836;</h3></div></div><div></div></div><p>
			&#26377;&#26102;&#20505;&#20320;&#20250;&#24819;&#22312;&#37038;&#20214;&#19978;&#28155;&#21152;&#20854;&#20182;&#30340;&#22836;&#20449;&#24687;&#12290;Seam&#25552;&#20379;&#20102;&#19968;&#37096;&#20998;&#25903;&#25345;&#65288;&#35831;&#30475; <a href="mail.html#mail.tags" title="17.5.&nbsp;&#26631;&#31614;">Section&nbsp;17.5, &#8220;&#26631;&#31614;&#8221;</a>&#65289;&#12290;
			&#20363;&#22914;&#65306;&#25105;&#20204;&#21487;&#20197;&#35774;&#32622;&#37038;&#20214;&#30340;&#37325;&#35201;&#31243;&#24230;&#65292;&#25110;&#30528;&#35831;&#27714;&#19968;&#20010;&#38405;&#35835;&#22238;&#25191;&#12290;
			</p><pre class="programlisting">&lt;m:message xmlns:m="http://jboss.com/products/seam/mail"
    importance="low"
    requestReadReceipt="true"/&gt;</pre><p>
			&#21478;&#22806;&#20320;&#20063;&#21487;&#20197;&#36890;&#36807;&#20351;&#29992; <tt class="literal">&lt;m:header&gt;</tt> &#26631;&#31614;&#65292;&#20026;&#28040;&#24687;&#28155;&#21152;&#20854;&#23427;&#20219;&#24847;&#30340;&#22836;&#20449;&#24687;&#12290;
			</p><pre class="programlisting">&lt;m:header name="X-Sent-From" value="JBoss Seam"/&gt;</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11368"></a>17.2.&nbsp;&#25509;&#25910;&#37038;&#20214;</h2></div></div><div></div></div><p>
		&#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;EJB&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;MDB&#65288;&#28040;&#24687;&#39537;&#21160;Bean:Message Driven Bean&#65289;&#26469;&#25509;&#25910;&#28040;&#24687;&#12290;
		JBoss&#25552;&#20379;JCA&#36866;&#37197;&#22120; &#8212;<tt class="literal">mail-ra.rar</tt> &#20294;&#26159;&#36319;&#38543;JBoss&#21457;&#24067;&#30340;&#29256;&#26412;&#26377;&#19968;&#23450;&#30340;&#38480;&#21046;&#65288;&#26576;&#20123;&#29256;&#26412;&#27809;&#26377;&#20570;&#25414;&#32465;&#65289;&#12290;
	  	&#22240;&#27492;&#25105;&#20204;&#24314;&#35758;&#37319;&#29992;&#36319;&#38543;&#25512;&#33616;&#30340;Seam&#21457;&#24067;&#30340; <tt class="literal">mail-ra.rar</tt>&#65288;&#19981;&#22312;Seam&#21253;&#30340; <tt class="literal">mail</tt> &#30446;&#24405;&#65289;&#12290;
	  	<tt class="literal">mail-ra.rar</tt> &#24212;&#35813;&#34987;&#25918;&#32622;&#22312; <tt class="literal">$JBOSS_HOME/server/default/deploy</tt> &#30446;&#24405;&#19979;&#65307;
	  	&#22914;&#26524;&#20320;&#27491;&#22312;&#20351;&#29992;&#30340;JBoss&#29256;&#26412;&#24050;&#32463;&#26377;&#20102;&#36825;&#20010;&#25991;&#20214;&#65292;&#23601;&#26367;&#25442;&#20102;&#23427;&#12290;
	  	</p><p>&#24744;&#21487;&#20197;&#21521;&#36825;&#26679;&#37197;&#32622;&#65306;</p><pre class="programlisting">@MessageDriven(activationConfig={
    @ActivationConfigProperty(propertyName="mailServer", propertyValue="localhost"),
    @ActivationConfigProperty(propertyName="mailFolder", propertyValue="INBOX"),
    @ActivationConfigProperty(propertyName="storeProtocol", propertyValue="pop3"),
    @ActivationConfigProperty(propertyName="userName", propertyValue="seam"),
    @ActivationConfigProperty(propertyName="password", propertyValue="seam")
})
@ResourceAdapter("mail-ra.rar")
@Name("mailListener")
public class MailListenerMDB implements MailListener {

    @In(create=true)
    private OrderProcessor orderProcessor;

    public void onMessage(Message message) {
       // Process the message
       orderProcessor.process(message.getSubject());
    }

}</pre><p>
		&#27599;&#19968;&#20010;&#25509;&#25910;&#21040;&#30340;&#28040;&#24687;&#37117;&#23558;&#23548;&#33268; <tt class="literal">onMessage(Message message)</tt> &#34987;&#35843;&#29992;&#12290;
		&#22823;&#22810;&#25968;Seam&#30340;&#27880;&#37322;&#23558;&#20250;&#22312;MDB&#20869;&#37096;&#36816;&#34892;&#65292;&#20294;&#20320;&#19981;&#21487;&#20197;&#35775;&#38382;&#25345;&#20037;&#19978;&#19979;&#25991;&#12290;
		</p><p>
		&#22312;&#38142;&#25509; <a href="http://wiki.jboss.org/wiki/Wiki.jsp?page=InboundJavaMail" target="_top">http://wiki.jboss.org/wiki/Wiki.jsp?page=InboundJavaMail</a> &#30340; <tt class="literal">mail-ra.rar</tt> &#19978;&#20320;&#21487;&#20197;&#25214;&#21040;&#26356;&#22810;&#30340;&#20449;&#24687;&#12290;
    </p><p>
		&#22914;&#26524;&#20320;&#27809;&#26377;&#20351;&#29992;JBoss&#65292;&#20320;&#20381;&#28982;&#21487;&#20197;&#20351;&#29992; <tt class="literal">mail-ra.rar</tt>&#65292;&#25110;&#35768;&#20320;&#21487;&#20197;&#22312;&#20320;&#30340;&#31243;&#24207;&#26381;&#21153;&#22120;&#19978;&#25214;&#21040;&#31867;&#20284;&#30340;&#36866;&#37197;&#22120;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11410"></a>17.3.&nbsp;&#37197;&#32622;</h2></div></div><div></div></div><p>
		&#20026;&#20102;&#22312;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#33021;&#22815;&#20351;&#29992;&#30005;&#23376;&#37038;&#20214;&#65292;&#35201;&#30830;&#20445; <tt class="literal">jboss-seam-mail.jar</tt> &#21253;&#21547;&#22312; <tt class="literal">WEB-INF/lib</tt> &#30446;&#24405;&#20013;&#12290;
		&#22914;&#26524;&#20320;&#22312;&#20351;&#29992;JBoss AS&#65292;&#21017;&#20351;&#29992;Seam&#30340;&#37038;&#20214;&#25903;&#25345;&#19981;&#38656;&#35201;&#20570;&#26356;&#22810;&#30340;&#37197;&#32622;&#24037;&#20316;&#20102;&#12290;
		&#21542;&#21017;&#20320;&#21487;&#33021;&#38656;&#35201;&#30830;&#35748;&#20320;&#26159;&#21542;&#26377;JavaMail&#30340;API&#65292;&#19968;&#20010;&#21487;&#20379;&#20351;&#29992;&#30340;JavaMail API&#30340;&#23454;&#29616;&#65288;JBoss AS&#20013;&#20351;&#29992;&#30340;API&#21644;&#23454;&#29616;&#27491;&#22914;&#20316;&#20026; <tt class="literal">lib/mail.jar</tt> &#36319;&#38543;Seam&#21457;&#24067;&#30340;&#21253;&#65289;&#65292;&#21644;&#19968;&#20221;Java Activation Framework&#30340;&#25335;&#36125;&#65288;&#20316;&#20026; <tt class="literal">lib/activation.jar</tt> &#36319;&#38543;Seam&#21457;&#24067;&#65289;&#12290;
    </p><p>
		Seam&#30340;Email&#27169;&#22359;&#38656;&#35201;Facelets&#20316;&#20026;&#35270;&#22270;&#25216;&#26415;&#12290;&#23558;&#26469;&#24211;&#30340;&#29256;&#26412;&#21487;&#33021;&#20250;&#28155;&#21152;&#23545;JSP&#30340;&#25903;&#25345;&#12290;&#21478;&#22806;&#65292;&#23427;&#38656;&#35201;&#29992;&#21040;seam-ui&#21253;&#12290;
		</p><p>
		<tt class="literal">mailSession</tt> &#32452;&#20214;&#20351;&#29992;JavaMail&#23601;&#20687;&#19982;'&#30495;&#23454;&#30340;'SMTP&#26381;&#21153;&#22120;&#36890;&#35759;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11434"></a>17.3.1.&nbsp;
				<tt class="literal">mailSession</tt>
			</h3></div></div><div></div></div><p>
			&#22914;&#26524;&#20320;&#22312;&#20351;&#29992;JEE&#29615;&#22659;&#24037;&#20316;&#65292;&#21487;&#20197;&#36890;&#36807;JNDI&#26597;&#25214;&#21487;&#29992;&#30340;JavaMail Session&#65292;&#20320;&#20063;&#21487;&#20197;&#20351;&#29992;Seam&#37197;&#32622;&#22909;&#30340;Session&#12290;
			</p><p>
			&#22312; <a href="components.html#components.mail" title="28.8.&nbsp;&#19982;&#37038;&#20214;&#30456;&#20851;&#30340;&#32452;&#20214;">Section&nbsp;28.8, &#8220;&#19982;&#37038;&#20214;&#30456;&#20851;&#30340;&#32452;&#20214;&#8221;</a> &#20013;&#26377;&#20851;&#20110;&#37038;&#20214;&#20250;&#35805;&#32452;&#20214;&#23646;&#24615;&#30340;&#35814;&#32454;&#20171;&#32461;&#12290;
			</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e11446"></a>17.3.1.1.&nbsp;&#22312;JBoss AS&#20013;&#26597;&#25214;JNDI</h4></div></div><div></div></div><p>
				JBossAS <tt class="literal">deploy/mail-service.xml</tt> &#37197;&#32622;JavaMail&#20250;&#35805;&#25414;&#32465;&#21040;JNDI&#12290;
				&#20320;&#38656;&#35201;&#20462;&#25913;&#40664;&#35748;&#30340;&#26381;&#21153;&#37197;&#32622;&#20877;&#24212;&#29992;&#21040;&#20320;&#30340;&#32593;&#32476;&#20013;&#12290;&#36825;&#37324;&#25551;&#36848;&#20102;&#26356;&#21152;&#35814;&#32454;&#30340;&#26381;&#21153; <a href="http://wiki.jboss.org/wiki/Wiki.jsp?page=JavaMail" target="_top">http://wiki.jboss.org/wiki/Wiki.jsp?page=JavaMail</a>
        </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
    xmlns:core="http://jboss.com/products/seam/core"
    xmlns:mail="http://jboss.com/products/seam/mail"&gt;

    &lt;mail:mail-session session-jndi-name="java:/Mail"/&gt;

&lt;/components&gt;</pre><p>
				&#36825;&#37324;&#25105;&#20204;&#21578;&#35785;Seam&#22312;JNDI&#20013;&#26159;&#36890;&#36807; <tt class="literal">java:/Mail</tt> &#26469;&#33719;&#24471;&#37038;&#20214;Session&#30340;&#12290;
				</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e11464"></a>17.3.1.2.&nbsp;Seam&#37197;&#32622;&#20250;&#35805;</h4></div></div><div></div></div><p>
				&#37038;&#20214;&#20250;&#35805;&#21487;&#20197;&#36890;&#36807; <tt class="literal">components.xml</tt> &#37197;&#32622;&#26469;&#35775;&#38382;&#30340;&#12290;
				&#36825;&#37324;&#25105;&#20204;&#21578;&#35785;Seam&#20351;&#29992; <tt class="literal">smtp.example.com</tt> &#20316;&#20026;SMTP&#26381;&#21153;&#22120;&#12290;
				</p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
    xmlns:core="http://jboss.com/products/seam/core"
    xmlns:mail="http://jboss.com/products/seam/mail"&gt;

    &lt;mail:mail-session host="smtp.example.com"/&gt;

&lt;/components&gt;</pre></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11477"></a>17.4.&nbsp;Meldware</h2></div></div><div></div></div><p>
		Seam&#30340;&#37038;&#20214;&#31034;&#20363;&#37319;&#29992;Meldware&#65288;&#26469;&#33258; <a href="http://buni.org" target="_top">buni.org</a>&#65289;&#20316;&#20026;&#37038;&#20214;&#26381;&#21153;&#22120;&#12290;
		Meldware&#26159;&#25552;&#20379;&#12288;<tt class="literal">SMTP</tt>&#12289;<tt class="literal">POP3</tt>&#12289;<tt class="literal">IMAP</tt>&#12289;WebMail&#12289;&#20849;&#20139;&#26085;&#21382;&#21644;&#22270;&#24418;&#21270;&#30340;&#31649;&#29702;&#24037;&#20855;&#30340;&#20110;&#19968;&#36523;&#30340;&#36719;&#20214;&#65307;
		&#23427;&#26159;&#20316;&#20026;&#19968;&#20010;JEE&#24212;&#29992;&#31243;&#24207;&#32534;&#20889;&#30340;&#65292;&#22240;&#27492;&#21487;&#20197;&#21644;&#20320;&#30340;Seam&#31243;&#24207;&#19968;&#36215;&#37096;&#32626;&#21040;JBoss&#19978;&#12290;
		</p><p>
		&#21644;Seam&#19968;&#36215;&#20998;&#21457;&#30340;Meldware&#30340;&#29256;&#26412;&#65288;&#22312;&#25991;&#20214;&#22841;<tt class="literal">mail/buni-meldware</tt>&#65289;&#20026;&#20102;&#24320;&#21457;&#37117;&#34987;&#29305;&#21035;&#20462;&#25913;&#36807; &#65293; &#37038;&#31665;&#12289;&#29992;&#25143;&#21644;&#21035;&#21517;&#65288;&#37038;&#20214;&#22320;&#22336;&#65289;&#22312;&#27599;&#27425;&#31243;&#24207;&#37096;&#32626;&#30340;&#26102;&#20505;&#21019;&#24314;&#12290;
		&#22914;&#26524;&#20320;&#24076;&#26395;&#22312;&#20135;&#21697;&#20013;&#19981;&#20165;&#20165;&#20351;&#29992;Meldware&#21457;&#36865;&#37038;&#20214;&#65292;&#24314;&#35758;&#20320;&#20351;&#29992;vanilla&#25335;&#36125;&#12290;
		&#20320;&#20063;&#21487;&#20197;&#20351;&#29992; <tt class="literal">meldware</tt> &#32452;&#20214;&#26469;&#21019;&#24314;&#37038;&#31665;&#65292;&#29992;&#25143;&#21644;&#21035;&#21517;&#31561;&#12290;
    </p><pre class="programlisting">&lt;components xmlns="http://jboss.com/products/seam/components"
    xmlns:core="http://jboss.com/products/seam/core"
    xmlns:mail="http://jboss.com/products/seam/mail"&gt;

    &lt;mail:mail-session host="smtp.example.com"/&gt;

    &lt;mail:meldware&gt;
        &lt;mail:users&gt;
            &lt;value&gt;#{duke}&lt;/value&gt;
            &lt;value&gt;#{root}&lt;/value&gt;
	    &lt;/mail:users&gt;
    &lt;/mail:meldware&gt;

   	&lt;mail:meldware-user name="duke" username="duke" password="duke"&gt;
   	    &lt;mail:aliases&gt;
   	        &lt;value&gt;duke@jboss.org&lt;/value&gt;
   	        &lt;value&gt;duke@jboss.com&lt;/value&gt;
   	    &lt;/mail:aliases&gt;
   	&lt;mail:meldware-user name="root" username="root" password="root" administrator="true" /&gt;
&lt;/components&gt;</pre><p>
  		&#36825;&#37324;&#25105;&#20204;&#21019;&#24314;&#20102;&#20004;&#20010;&#29992;&#25143;&#65292;&#25317;&#26377;&#20004;&#20010;&#37038;&#20214;&#22320;&#22336;&#30340; <tt class="literal">duke</tt> &#21644;&#21517;&#20026; <tt class="literal">root</tt> &#30340;&#31649;&#29702;&#21592;&#12290;
	    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mail.tags"></a>17.5.&nbsp;&#26631;&#31614;</h2></div></div><div></div></div><p>
		&#37038;&#20214;&#36890;&#36807;&#20351;&#29992;&#21629;&#21517;&#31354;&#38388; <tt class="literal">http://jboss.com/products/seam/mail</tt> &#30340;&#26631;&#31614;&#29983;&#25104;&#12290;
		&#25991;&#26723;&#20013;&#22312;&#28040;&#24687;&#30340;&#26681;&#37096;&#36890;&#24120;&#24212;&#35813;&#26377; <tt class="literal">message</tt> &#26631;&#31614;&#65292;message&#26631;&#31614;&#20351;Seam&#20934;&#22791;&#29983;&#25104;&#19968;&#23553;&#37038;&#20214;&#12290;
		</p><p>
		&#26631;&#20934;&#30340;facelets&#30340;&#27169;&#26495;&#26631;&#31614;&#21487;&#20197;&#22914;&#21516;&#24448;&#24120;&#19968;&#26679;&#22320;&#26469;&#20351;&#29992;&#12290;
	  	&#20320;&#21487;&#20197;&#22312;&#20027;&#20307;&#20869;&#37096;&#20351;&#29992;&#20219;&#20309;JSF&#26631;&#31614;&#65307;&#22914;&#26524;&#38656;&#35201;&#35775;&#38382;&#22806;&#37096;&#36164;&#28304;&#65288;stylesheets&#12289;javascript&#65289;&#65292;&#37027;&#20040;&#23601;&#35201;&#30830;&#35748;&#26159;&#21542;&#35774;&#32622;&#20102; <tt class="literal">urlBase</tt>&#12290;
    </p><div class="variablelist"><dl><dt><span class="term">&lt;m:message&gt;</span></dt><dd><p>&#37038;&#20214;&#28040;&#24687;&#30340;&#26681;&#26631;&#31614;</p><div class="itemizedlist"><ul type="disc"><li><p>
							<tt class="literal">importance</tt> &#8212; &#20302;&#12289;&#27491;&#24120;&#25110;&#26159;&#39640;&#12290;&#40664;&#35748;&#26159;&#27491;&#24120;&#65292;&#36825;&#26159;&#35774;&#32622;&#37038;&#20214;&#28040;&#24687;&#37325;&#35201;&#31243;&#24230;&#30340;&#26631;&#31614;&#12290;
							</p></li><li><p>
							<tt class="literal">precedence</tt> &#8212; &#35774;&#32622;&#28040;&#24687;&#30340;&#20248;&#20808;&#32423;&#65288;&#20363;&#22914;&#65306;&#31361;&#20986;&#65289;
							</p></li><li><p>
							<tt class="literal">requestReadReceipt</tt> &#8212;&#40664;&#35748;&#26159;false&#65292;&#22914;&#26524;&#35774;&#32622;&#65292;&#23558;&#20250;&#28155;&#21152;&#38405;&#35835;&#22238;&#25191;&#65292;&#38405;&#35835;&#22238;&#25191;&#23558;&#20250;&#34987;&#21457;&#32473; <tt class="literal">From:</tt> &#22320;&#22336;&#12290;
							</p></li><li><p>
							<tt class="literal">urlBase</tt> &#8212; &#22914;&#26524;&#35774;&#32622;&#65292;&#39044;&#35774;&#30340; <tt class="literal">requestContextPath</tt> &#23558;&#20801;&#35768;&#20320;&#22312;&#37038;&#20214;&#20013;&#20351;&#29992;&#24418;&#22914; <tt class="literal">&lt;h:graphicImage&gt;</tt> &#30340;&#32452;&#20214;&#12290;
							</p></li></ul></div></dd><dt><span class="term">&lt;m:from&gt;</span></dt><dd><p>
					&#35774;&#32622;&#37038;&#20214;&#30340;&#21457;&#20214;&#22320;&#22336;&#12290;&#27599;&#23553;&#37038;&#20214;&#21482;&#20801;&#35768;&#26377;&#19968;&#20010;&#36825;&#26679;&#30340;&#20540;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
							<tt class="literal">name</tt> &#8212; &#37038;&#20214;&#24212;&#35813;&#26469;&#33258;&#30340;&#21517;&#31216;&#12290;
							</p></li><li><p>
							<tt class="literal">address</tt> &#8212; &#37038;&#20214;&#24212;&#35813;&#26469;&#33258;&#30340;&#22320;&#22336;&#12290;
							</p></li></ul></div></dd><dt><span class="term">&lt;m:replyTo&gt;</span></dt><dd><p>
			  		&#35774;&#32622;&#22238;&#22797;&#22320;&#22336;&#32473;&#37038;&#20214;&#12290;&#27599;&#23553;&#37038;&#20214;&#21516;&#26679;&#21482;&#33021;&#26377;&#19968;&#20010;&#36825;&#26679;&#30340;&#20540;&#12290;
			  		</p><div class="itemizedlist"><ul type="disc"><li><p>
			 				<tt class="literal">address</tt> &#8212; &#37038;&#20214;&#26469;&#28304;&#30340;&#22320;&#22336;&#12290;
			 				</p></li></ul></div></dd><dt><span class="term">&lt;m:to&gt;</span></dt><dd><p>
					&#28155;&#21152;&#19968;&#20010;&#25910;&#20214;&#20154;&#21040;&#37038;&#20214;&#12290;&#26377;&#22810;&#20010;&#25910;&#20214;&#20154;&#26102;&#20351;&#29992;&#22797;&#21512;&#30340;&lt;m:to&gt;&#26631;&#31614;&#12290;
					&#36825;&#20010;&#26631;&#31614;&#21487;&#20197;&#34987;&#23433;&#20840;&#30340;&#25918;&#32622;&#22312;&#37325;&#22797;&#26631;&#31614;&lt;ui:repeat&gt;&#20043;&#31867;&#20013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
							<tt class="literal">name</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#21517;&#23383;&#12290;
							</p></li><li><p>
							<tt class="literal">address</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#22320;&#22336;&#12290;
							</p></li></ul></div></dd><dt><span class="term">&lt;m:cc&gt;</span></dt><dd><p>
					&#28155;&#21152;&#25220;&#36865;&#22320;&#22336;&#21040;&#37038;&#20214;&#12290;&#26377;&#22810;&#20010;&#25220;&#36865;&#22320;&#22336;&#26102;&#20351;&#29992;&#22797;&#21512;&#30340;&lt;m:cc&gt;&#26631;&#31614;&#12290;&#36825;&#20010;&#26631;&#31614;&#21487;&#20197;&#34987;&#23433;&#20840;&#30340;&#25918;&#32622;&#22312;&#37325;&#22797;&#26631;&#31614;&lt;ui:repeat&gt;&#20043;&#31867;&#20013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
			  				<tt class="literal">name</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#21517;&#23383;&#12290;
			  				</p></li><li><p>
			  				<tt class="literal">address</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#37038;&#20214;&#22320;&#22336;&#12290;
			  				</p></li></ul></div></dd><dt><span class="term">&lt;m:bcc&gt;</span></dt><dd><p>
					&#28155;&#21152;&#19968;&#20010;&#31192;&#25991;&#25220;&#36865;&#20154;&#21040;&#37038;&#20214;&#12290;&#26377;&#22810;&#20010;&#31192;&#23494;&#25220;&#36865;&#22320;&#22336;&#26102;&#20351;&#29992;&#22797;&#21512;&#30340;&lt;m:bcc&gt;&#26631;&#31614;&#12290;
					&#36825;&#20010;&#26631;&#31614;&#21487;&#20197;&#34987;&#23433;&#20840;&#30340;&#25918;&#32622;&#22312;&#37325;&#22797;&#26631;&#31614;&lt;ui:repeat&gt;&#20043;&#31867;&#20013;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
			  				<tt class="literal">name</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#21517;&#23383;&#12290;
			  				</p></li><li><p>
				  			<tt class="literal">address</tt> &#8212; &#25910;&#20214;&#20154;&#30340;&#37038;&#20214;&#22320;&#22336;&#12290;
				  			</p></li></ul></div></dd><dt><span class="term">&lt;m:header&gt;</span></dt><dd><p>
					&#21521;&#37038;&#20214;&#28155;&#21152;&#19968;&#20010;&#22836;&#65288;&#20363;&#22914;&#65306;<tt class="literal">X-Sent-From: JBoss Seam</tt>&#65289;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
			  				<tt class="literal">name</tt> &#8212; &#35201;&#28155;&#21152;&#30340;&#22836;&#30340;&#21517;&#23383;&#65288;&#20363;&#22914;&#65306;<tt class="literal">X-Sent-From</tt>&#65289;&#12290;
			  				</p></li><li><p>
			  				<tt class="literal">value</tt> &#8212; &#35201;&#28155;&#21152;&#30340;&#22836;&#30340;&#20540;&#65288;&#20363;&#22914;&#65306;<tt class="literal">JBoss Seam</tt>&#65289;&#12290;
			  				</p></li></ul></div></dd><dt><span class="term">&lt;m:attachment&gt;</span></dt><dd><p>&#28155;&#21152;&#19968;&#20010;&#38468;&#20214;&#21040;&#37038;&#20214;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>
							<tt class="literal">value</tt> &#8212; &#35201;&#28155;&#21152;&#30340;&#38468;&#20214;&#65306;
							</p><div class="itemizedlist"><ul type="circle"><li><p>
				 					<tt class="literal">String</tt> &#8212; &#22312;classpath&#20013;&#19968;&#20010; <tt class="literal">String</tt> &#20316;&#20026;&#21040;&#25991;&#20214;&#30340;&#36335;&#24452;&#34987;&#35299;&#26512;&#12290;
				 					</p></li><li><p>
									<tt class="literal">java.io.File</tt> &#8212;&#19968;&#20010;&#25351;&#21521; <tt class="literal">File</tt> &#23545;&#35937;&#30340;EL&#34920;&#36798;&#24335;&#12290;
									</p></li><li><p>
			   						<tt class="literal">java.net.URL</tt> &#8212; &#19968;&#20010;&#25351;&#21521;<tt class="literal">URL</tt>&#23545;&#35937;&#30340;EL&#34920;&#36798;&#24335;&#12290;
			   						</p></li><li><p>
									<tt class="literal">java.io.InputStream</tt> &#8212; &#19968;&#20010;&#25351;&#21521; <tt class="literal">InputStream</tt> &#31867;&#22411;&#30340;EL&#34920;&#36798;&#24335;&#12290;
									&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;<tt class="literal">fileName</tt> &#21644; <tt class="literal">contentType</tt> &#37117;&#24517;&#39035;&#25351;&#23450;&#12290;
									</p></li><li><p>
									<tt class="literal">byte[]</tt> &#8212; &#19968;&#20010;&#25351;&#21521; <tt class="literal">byte[]</tt> &#31867;&#22411;&#30340;EL&#34920;&#36798;&#24335;&#12290;
									&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;<tt class="literal">fileName</tt> &#21644; <tt class="literal">contentType</tt> &#37117;&#24517;&#39035;&#25351;&#23450;&#12290;
									</p></li></ul></div><p>&#22914;&#26524;&#20540;&#23646;&#24615;&#34987;&#30465;&#30053;&#65306;</p><div class="itemizedlist"><ul type="circle"><li><p>
									&#22914;&#26524;&#36825;&#20010;&#26631;&#31614;&#21253;&#21547;&#19968;&#20010; <tt class="literal">&lt;p:document&gt;</tt> &#26631;&#31614;&#65292;&#36825;&#20010;&#34987;&#25551;&#36848;&#30340;&#25991;&#26723;&#23558;&#20250;&#34987;&#29983;&#25104;&#24182;&#19988;&#38468;&#21152;&#21040;&#37038;&#20214;&#19978;&#12290;
									<tt class="literal">fileName</tt> &#24212;&#35813;&#34987;&#25351;&#23450;&#12290;
									</p></li><li><p>
									&#22914;&#26524;&#36825;&#20010;&#26631;&#31614;&#21253;&#21547;&#20854;&#23427;&#30340;JSF&#26631;&#31614;&#65292;&#23558;&#20250;&#36890;&#36807;&#23427;&#20204;&#29983;&#25104;HTML&#25991;&#26723;&#24182;&#38468;&#21152;&#21040;&#37038;&#20214;&#12290;<tt class="literal">fileName</tt>&#24212;&#35813;&#34987;&#25351;&#23450;&#12290;
									</p></li></ul></div></li><li><p>
							<tt class="literal">fileName</tt> &#8212; &#25351;&#23450;&#21487;&#20379;&#20351;&#29992;&#30340;&#24050;&#32463;&#34987;&#38468;&#19978;&#30340;&#25991;&#20214;&#12290;
							</p></li><li><p>
							<tt class="literal">contentType</tt> &#8212;&#25351;&#23450;&#24050;&#38468;&#19978;&#30340;&#25991;&#20214;&#30340;MIME&#31867;&#22411;&#12290;
							</p></li></ul></div></dd><dt><span class="term">&lt;m:subject&gt;</span></dt><dd><p>&#35774;&#32622;&#37038;&#20214;&#20027;&#39064;&#12290;</p></dd><dt><span class="term">&lt;m:body&gt;</span></dt><dd><p>
					&#35774;&#32622;&#37038;&#20214;&#20027;&#20307;&#12290;&#25903;&#25345; <tt class="literal">alternative</tt> facet&#12290;
					&#27604;&#22914;&#29983;&#25104;&#30340;&#19968;&#20010;HTML&#37038;&#20214;&#21487;&#33021;&#21253;&#21547;&#38024;&#23545;&#19981;&#25903;&#25345;html&#30340;&#38405;&#35835;&#22120;&#30340;&#22791;&#36873;&#30340;&#25991;&#26412;&#12290;
					</p><div class="itemizedlist"><ul type="disc"><li><p>
							<tt class="literal">type</tt> &#8212; &#22914;&#26524;&#35774;&#20026; <tt class="literal">plain</tt>&#65292;&#23558;&#20250;&#29983;&#25104;&#19968;&#20221;&#31616;&#21333;&#25991;&#26412;&#37038;&#20214;&#65292;&#21542;&#21017;&#23558;&#20250;&#29983;&#25104;&#19968;&#20221;HTML&#37038;&#20214;&#12290;
							</p></li></ul></div></dd></dl></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="itext.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="jms.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;16.&nbsp;iText PDF&#29983;&#25104;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;18.&nbsp;&#24322;&#27493;&#21644;&#28040;&#24687;</td></tr></table></div></body></html>