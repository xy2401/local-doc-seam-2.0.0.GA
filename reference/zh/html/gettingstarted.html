<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;2.&nbsp;&#29992;Seam-gen&#36215;&#27493;</title><link rel="stylesheet" href="../shared/css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="Seam - &#35821;&#22659;&#30456;&#20851;&#30340;&#32452;&#20214; [&#28385;&#27743;&#32418;20080327]"><link rel="up" href="index.html" title="Seam - &#35821;&#22659;&#30456;&#20851;&#30340;&#32452;&#20214; [&#28385;&#27743;&#32418;20080327]"><link rel="previous" href="tutorial.html" title="Chapter&nbsp;1.&nbsp;Seam &#20837;&#38376;"><link rel="next" href="concepts.html" title="Chapter&nbsp;3.&nbsp;&#19978;&#19979;&#25991;&#30456;&#20851;&#30340;&#32452;&#20214;&#27169;&#22411;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;2.&nbsp;&#29992;Seam-gen&#36215;&#27493;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tutorial.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="concepts.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="gettingstarted"></a>Chapter&nbsp;2.&nbsp;&#29992;Seam-gen&#36215;&#27493;</h2></div></div><div></div></div><p>
		Seam&#30340;&#21457;&#24067;&#21253;&#37324;&#24050;&#21253;&#21547;&#20102;&#21629;&#20196;&#34892;&#24037;&#20855;&#65292;&#29992;&#23427;&#21487;&#20197;&#24456;&#26041;&#20415;&#22320;&#25645;&#24314;Eclipse&#39033;&#30446;&#65292;&#20197;&#21450;&#29983;&#25104;&#19968;&#20123;&#31616;&#21333;&#30340;Seam&#39592;&#26550;&#20195;&#30721;&#65292;&#24182;&#33021;&#20174;&#24050;&#23384;&#22312;&#30340;&#25968;&#25454;&#24211;&#21453;&#21521;&#24037;&#31243;&#21040;&#24212;&#29992;&#31243;&#24207;&#12290;
	</p><p>
		&#23427;&#33021;&#35753;&#20320;&#24863;&#21463;&#21040;Seam&#32473;&#24320;&#21457;&#25152;&#24102;&#26469;&#30340;&#24555;&#25463;&#65292;&#24403;&#20320;&#22312;&#30005;&#26799;&#37324;&#30475;&#21040;&#37027;&#20123;&#20196;&#20154;&#21388;&#28902;&#30340;Ruby&#23478;&#20249;&#22312;&#21561;&#22040;&#20182;&#20204;&#30340;&#26032;&#29609;&#33402;&#20799;&#26159;&#22914;&#20309;&#20248;&#32654;&#22320;&#22312;&#24212;&#29992;&#20013;
		&#23558;&#32321;&#29712;&#30340;&#25968;&#25454;&#25918;&#36827;&#25968;&#25454;&#24211;&#26102;&#65292;&#20320;&#23601;&#21487;&#20197;&#21462;&#31505;&#20182;&#20204;&#20102;&#12290;
	</p><p>
		&#22312;&#27492;&#29256;&#26412;&#20013;&#65292;seam-gen&#33021;&#24456;&#22909;&#22320;&#19982;JBoss AS&#19968;&#36215;&#24037;&#20316;&#12290;&#36890;&#36807;&#23545;&#39033;&#30446;&#37197;&#32622;&#36827;&#34892;&#20123;&#35768;&#30340;&#25163;&#24037;&#20462;&#25913;&#65292;seam-gen&#29983;&#25104;&#30340;&#39033;&#30446;&#23601;&#21487;&#19982;&#20854;&#23427;J2EE&#25110;Java EE 5&#24212;&#29992;&#26381;&#21153;&#22120;&#19968;&#36215;&#24037;&#20316;&#12290;
	</p><p>
		&#35831;&#27880;&#24847;&#65292;&#24182;&#19981;&#21482;&#38480;&#22312;Eclipse&#20013;&#20351;&#29992;seam-gen&#12290;&#20294;&#22312;&#26412;&#25945;&#31243;&#20013;&#65292;&#25105;&#20204;&#23558;&#20026;&#20320;&#28436;&#31034;&#22914;&#20309;&#22312;Eclipse&#20013;&#29992;&#23427;&#26469;&#23436;&#25104;&#35843;&#35797;&#19982;&#38598;&#25104;&#27979;&#35797;&#12290;
		&#33509;&#20320;&#19981;&#24819;&#23433;&#35013;Eclipse&#65292;&#20320;&#20173;&#21487;&#36319;&#38543;&#25945;&#31243;&#30340;&#27493;&#39588;&#65292;&#22240;&#20026;&#25152;&#26377;&#30340;&#25805;&#20316;&#37117;&#26159;&#22312;&#21629;&#20196;&#34892;&#20013;&#23436;&#25104;&#30340;&#12290;
	</p><p>
		Seam-gen&#30340;Ant&#33050;&#26412;&#19982;Hibernate&#24037;&#20855;&#21253;&#25918;&#19968;&#36215;&#65292;&#24182;&#21516;&#26102;&#25552;&#20379;&#20102;&#19968;&#20123;&#27169;&#26495;&#12290;&#36825;&#26679;&#25105;&#20204;&#23601;&#24456;&#23481;&#26131;&#22320;&#26681;&#25454;&#33258;&#24049;&#39033;&#30446;&#30340;&#38656;&#35201;&#26469;&#20316;&#20123;&#20462;&#25913;&#12290;
	</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2569"></a>2.1.&nbsp;&#20934;&#22791;&#27963;&#21160;</h2></div></div><div></div></div><p>
			&#35831;&#30830;&#20445;&#24050;&#23433;&#35013;&#20102;JDK 5&#25110;&#32773;JDK6&#65292;JBoss AS 4.2&#21644;Ant 1.6&#65292;&#20197;&#21450;&#36739;&#26032;&#29256;&#30340;Eclipse&#12289;JBoss IDE&#21644;TestNG&#30340;Eclipse &#25554;&#20214;&#12290;
			&#22312;Eclipse&#30340;JBoss Server View&#20013;&#23558;JBoss&#23433;&#35013;&#36335;&#24452;&#28155;&#21152;&#36827;&#21435;&#12290;&#28982;&#21518;&#20197;debug&#27169;&#24335;&#21551;&#21160;JBoss&#65292;&#24182;&#22312;&#24377;&#20986;&#24335;&#21629;&#20196;&#31383;&#21475;&#20013;&#36827;&#20837;Seam&#30340;&#30446;&#24405;&#12290;
		</p><p>
			JBoss&#24456;&#22909;&#22320;&#25903;&#25345;WAR&#21644;EAR&#30340;&#28909;&#37325;&#37096;&#32626;&#65292;&#20294;&#40635;&#28902;&#30340;&#26159;&#65292;&#30001;&#20110;&#22312;JVM&#20013;&#23384;&#22312;&#30528;&#22810;&#20010;Bug&#65292;&#22312;&#24320;&#21457;&#36827;&#31243;&#20013;&#22810;&#27425;&#30340;&#37325;&#37096;&#32626;EAR&#26159;&#24120;&#35265;&#30340;&#20107;&#65292;&#20294;&#36825;&#26368;&#32456;&#20250;&#32791;&#23613;PermGen &#31354;&#38388;&#65288;Permanent Generation Space&#65289;&#12290;
			&#22240;&#27492;&#24314;&#35758;&#20320;&#22312;&#24320;&#21457;&#30340;&#36807;&#31243;&#20013;&#21152;&#22823;perm gen&#31354;&#38388;&#12290;&#33509;&#20320;&#26159;&#22312;JBoss IDE&#20013;&#36816;&#34892;JBoss&#65292;&#37027;&#20320;&#23601;&#21487;&#20197;&#22312;&#26381;&#21153;&#22120;&#36816;&#34892;&#37197;&#32622;&#20013;&#30340;VM arguments&#36827;&#34892;&#37197;&#32622;&#65292;&#24314;&#35758;&#20381;&#27492;&#20462;&#25913;&#65306;
		</p><pre class="programlisting">-Xms512m -Xmx1024m -XX:PermSize=256m -XX:MaxPermSize=512</pre><p>
			&#22914;&#26524;&#20320;&#27809;&#26377;&#37027;&#20040;&#22810;&#30340;&#21487;&#29992;&#20869;&#23384;&#65292;&#20320;&#21482;&#22909;&#29992;&#25105;&#20204;&#25512;&#33616;&#30340;&#26368;&#23567;&#20869;&#23384;&#20102;&#65306;
		</p><pre class="programlisting">-Xms256m -Xmx512m -XX:PermSize=128m -XX:MaxPermSize=256</pre><p>
			&#33509;&#26159;&#22312;&#21629;&#20196;&#34892;&#27169;&#24335;&#20013;&#36816;&#34892;JBoss&#65292;&#37027;&#20320;&#23601;&#35201;&#22312; <tt class="literal">bin/run.conf</tt> &#25991;&#20214;&#20013;&#23545;JVM&#36873;&#39033;&#20316;&#20462;&#25913;&#20102;&#12290;
		</p><p>
			&#24403;&#28982;&#65292;&#25105;&#20204;&#21487;&#20197;&#20808;&#19981;&#29702;&#20250;&#36825;&#20123;&#12290;&#24403;&#20320;&#22312;&#24320;&#21457;&#20013;&#31532;&#19968;&#27425;&#30896;&#21040; <tt class="literal">OutOfMemoryException</tt> &#24322;&#24120;&#26102;&#20877;&#22238;&#36807;&#22836;&#26469;&#20316;&#27492;&#20462;&#25913;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2592"></a>2.2.&nbsp;&#24314;&#31435;&#19968;&#20010;&#26032;&#30340;Eclipse&#39033;&#30446;</h2></div></div><div></div></div><p>
			&#39318;&#20808;&#65292;&#25105;&#20204;&#38656;&#35201;&#26681;&#25454;&#29616;&#26377;&#30340;&#24320;&#21457;&#29615;&#22659;&#23545;seam-gen&#36827;&#34892;&#37197;&#32622;&#65306;JBoss AS&#23433;&#35013;&#30446;&#24405;&#12289;Eclipse workspace&#21450;&#25968;&#25454;&#24211;&#36830;&#25509;&#12290;&#36825;&#20123;&#37117;&#24456;&#23481;&#26131;&#65292;&#21482;&#35201;&#25970;&#20837;&#65306;
		</p><pre class="programlisting">cd jboss-seam-2.0.x
seam setup</pre><p>
			&#26681;&#25454;&#24377;&#20986;&#30340;&#25552;&#31034;&#36755;&#20837;&#24320;&#21457;&#29615;&#22659;&#30340;&#30456;&#20851;&#20449;&#24687;:
		</p><pre class="programlisting">C:\Projects\jboss-seam&gt;seam setup
Buildfile: build.xml

setup:
    [echo] Welcome to seam-gen :-)
    [input] Enter your Java project workspace [C:/Projects]

    [input] Enter your JBoss home directory [C:/Program Files/jboss-4.2.0.GA]

    [input] Enter the project name [myproject]
helloworld
    [input] Is this project deployed as an EAR (with EJB components) or a WAR (with no EJB support) [ear] (ear,war,)

    [input] Enter the Java package name for your session beans [com.mydomain.helloworld]
org.jboss.helloworld
    [input] Enter the Java package name for your entity beans [org.jboss.helloworld]

    [input] Enter the Java package name for your test cases [org.jboss.helloworld.test]

    [input] What kind of database are you using? [hsql] (hsql,mysql,oracle,postgres,mssql,db2,sybase,)
mysql
    [input] Enter the Hibernate dialect for your database [org.hibernate.dialect.MySQLDialect]

    [input] Enter the filesystem path to the JDBC driver jar [lib/hsqldb.jar]
../../mysql-connector.jar
    [input] Enter JDBC driver class for your database [com.mysql.jdbc.Driver]

    [input] Enter the JDBC URL for your database [jdbc:mysql:///test]

    [input] Enter database username [sa]
gavin
    [input] Enter database password []

    [input] skipping input as property hibernate.default_schema.new has already been set.
    [input] Enter the database catalog name (it is OK to leave this blank) []

    [input] Are you working with tables that already exist in the database? [n] (y,n,)
y
    [input] Do you want to drop and recreate the database tables and data in import.sql each time you deploy? [n] (y,n,)
n
[propertyfile] Creating new property file: C:\Projects\jboss-seam\seam-gen\build.properties
     [echo] Installing JDBC driver jar to JBoss server
     [echo] Type 'seam new-project' to create the new project

BUILD SUCCESSFUL
Total time: 1 minute 17 seconds
C:\Projects\jboss-seam&gt;</pre><p>
			&#35813;&#24037;&#20855;&#25552;&#20379;&#20102;&#30456;&#24212;&#30340;&#40664;&#35748;&#20540;&#65292;&#22240;&#27492;&#20320;&#21487;&#20197;&#30452;&#25509;&#25353;Enter&#38190;&#12290;
		</p><p>
			&#26368;&#37325;&#35201;&#30340;&#26159;&#20320;&#35201;&#23545;EAR&#37096;&#32626;&#36824;&#26159;WAR&#37096;&#32626;&#36827;&#34892;&#36873;&#25321;&#12290;EAR&#39033;&#30446;&#25903;&#25345;EJB 3.0 &#24182;&#38656;&#35201;Java EE 5&#12290;&#32780;WAR&#21253;&#19981;&#25903;&#25345;EJB 3.0&#65292;&#20294;&#21487;&#22312;J2EE&#29615;&#22659;&#20013;&#37096;&#32626;&#12290;
			&#21478;&#22806;WAR&#20063;&#26356;&#36739;&#31616;&#21333;&#65292;&#20415;&#20110;&#29702;&#35299;&#12290;&#20551;&#33509;&#20320;&#24050;&#23433;&#35013;&#20102;EJB3 profile&#65292;&#37027;&#20320;&#23601;&#29992;<tt class="literal">ear</tt>&#22909;&#20102;&#65292;&#21542;&#21017;&#65292;&#23601;&#21482;&#22909;&#29992; <tt class="literal">war</tt>&#12290; &#22312;&#27492;&#20551;&#35774;&#25105;&#20204;&#36873;&#25321;&#20102;EAR&#37096;&#32626;&#65292;&#24403;&#28982;&#27492;&#25945;&#31243;&#20063;&#36866;&#29992;&#20110;WAR&#37096;&#32626;&#12290;
		</p><p>
			&#22914;&#26524;&#20320;&#25163;&#19978;&#26377;&#29616;&#25104;&#30340;&#25968;&#25454;&#27169;&#22411;&#65292;&#35831;&#30830;&#20445;&#20320;&#24050;&#36755;&#20837;&#29616;&#26377;&#25968;&#25454;&#24211;&#30340;&#34920;&#21517;&#12290;
		</p><p>
			&#36825;&#20123;&#35774;&#32622;&#20445;&#23384;&#22312; <tt class="literal">seam-gen/build.properties</tt> &#25991;&#20214;&#20013;&#65292;&#20294;&#20320;&#21487;&#36890;&#36807;&#36816;&#34892; <tt class="literal">seam setup</tt> &#26469;&#20877;&#27425;&#20462;&#25913;&#12290;
		</p><p>
			&#29616;&#22312;&#25105;&#20204;&#23601;&#21487;&#20197;&#22312;Eclipse workspace&#30446;&#24405;&#20013;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#39033;&#30446;&#65292;&#21482;&#38656;&#36755;&#20837;&#65306;
		</p><pre class="programlisting">seam new-project</pre><pre class="programlisting">C:\Projects\jboss-seam&gt;seam new-project
Buildfile: build.xml

validate-workspace:

validate-project:

copy-lib:
     [echo] Copying project jars ...
     [copy] Copying 58 files to C:\Projects\helloworld\lib
     [copy] Copying 9 files to C:\Projects\helloworld\embedded-ejb

file-copy-war:

file-copy-ear:
     [echo] Copying resources needed for EAR deployment to the C:\Projects\helloworld/resources directory...

new-project:
     [echo] A new Seam project named 'helloworld' was created in the C:\Projects directory
     [echo] Type 'seam explode' and go to http://localhost:8080/helloworld
     [echo] Eclipse Users: Add the project into Eclipse using File &gt; New &gt; Project and select General &gt; Project (not Java Project)
     [echo] NetBeans Users: Open the project in NetBeans

BUILD SUCCESSFUL
Total time: 7 seconds
C:\Projects\jboss-seam&gt;</pre><p>
			&#36825;&#32452;&#25805;&#20316;&#22797;&#21046;&#20102;Seam jar&#25991;&#20214;&#21450;&#30456;&#24212;&#30340;jar&#25991;&#20214;&#19982;JDBC&#39537;&#21160;jar&#21040;&#26032;&#24314;&#30340;Eclipse&#39033;&#30446;&#20013;&#65292;&#24182;&#29983;&#25104;&#20102;&#25152;&#38656;&#30340;&#28304;&#25991;&#20214;&#21450;&#20854;&#37197;&#32622;&#25991;&#20214;&#12289;&#19968;&#20010;&#27169;&#26495;&#25991;&#20214;&#21644;&#26679;&#24335;&#25991;&#20214;&#65292;&#21450;&#30456;&#24212;&#30340;Eclipse&#20803;&#25968;&#25454;&#21450;Ant&#26500;&#24314;&#33050;&#26412;&#12290;
			&#21482;&#35201;&#20320;&#20381;&#27492;&#25805;&#20316; <tt class="literal">New -&gt; Project... -&gt; General -&gt; Project -&gt; Next</tt>&#65292;&#36755;&#20837;<tt class="literal">Project name</tt> &#65288;&#27492;&#20363;&#20026;<tt class="literal">helloworld</tt>&#65289;&#65292;&#24182;&#25509;&#30528;&#28857;&#20987; <tt class="literal">Finish</tt>&#65292;&#23601;&#21487;&#23558;Eclipse&#39033;&#30446;&#33258;&#21160;&#37096;&#32626;&#21040;JBoss AS&#20998;&#35299;&#24335;&#30340;&#65288;exploded&#65289;&#30446;&#24405;&#32467;&#26500;&#20013;&#65292;&#35831;&#19981;&#35201;&#22312;&#26032;&#39033;&#30446;&#21521;&#23548;&#20013;&#36873;&#25321; <tt class="literal">Java Project</tt>&#12290;
		</p><p>
			&#33509;Eclipse&#20013;&#30340;&#40664;&#35748;&#30340;JDK&#19981;&#26159;Java SE 5 &#25110;Java SE 6&#65292;&#20320;&#23601;&#24471;&#36890;&#36807; <tt class="literal">Project -&gt; Properties -&gt; Java Compiler</tt> &#26469;&#36873;&#25321;&#19982;Java SE 5 &#20860;&#23481;&#30340;JDK&#12290;
		</p><p>
			&#21478;&#22806;&#65292;&#21487;&#22312;Eclipse&#20043;&#22806;&#36755;&#20837; <tt class="literal">seam explode</tt> &#26469;&#37096;&#32626;&#39033;&#30446;&#12290;
		</p><p>
			&#22312; <tt class="literal">http://localhost:8080/helloworld</tt> &#20013;&#26597;&#30475;&#27492;&#24212;&#29992;&#30340;&#39318;&#39029;&#12290;
			<tt class="literal">view/home.xhtml</tt> &#26159;&#20010;&#20351;&#29992; <tt class="literal">view/layout/template.xhtml</tt> &#27169;&#26495;&#29983;&#25104;&#30340;Facelets &#39029;&#38754;&#65292;&#35797;&#30528;&#22312;Eclipse&#20013;&#32534;&#36753;&#27492;&#39029;&#38754;&#25110;&#35813;&#27169;&#26495;&#65292;&#24182;&#22312;&#27983;&#35272;&#22120;&#20013;&#21047;&#26032;&#39029;&#38754;&#65292;&#31435;&#21363;&#30475;&#21040;&#32467;&#26524;&#12290;
		</p><p>
			&#21035;&#34987;&#22312;&#39033;&#30446;&#30446;&#24405;&#20013;&#30340;&#22914;&#27492;&#22810;&#30340;XML&#37197;&#32622;&#25991;&#20214;&#32473;&#21523;&#26197;&#20102;&#12290;&#37027;&#37117;&#26159;&#20123;&#26631;&#20934;&#30340;Java EE&#30340;&#19996;&#35199;&#65292;&#23427;&#20204;&#21482;&#38656;&#29983;&#25104;&#19968;&#27425;&#23601;&#19981;&#29992;&#20877;&#21435;&#29702;&#20250;&#20102;&#12290;
			&#22312;&#25152;&#26377;&#30340;Seam&#39033;&#30446;&#20013;&#65292;90%&#30340;&#37197;&#32622;&#20869;&#23481;&#37117;&#26159;&#19968;&#26679;&#30340;&#65288;&#36825;&#20123;&#21487;&#30001;seam-gen&#26469;&#24110;&#25105;&#20204;&#23436;&#25104;&#65289;&#12290;
		</p><p>
			&#26032;&#29983;&#25104;&#30340;&#39033;&#30446;&#21253;&#21547;&#20102;&#19977;&#20010;&#25968;&#25454;&#24211;&#21450;&#25345;&#20037;&#21270;&#37197;&#32622;&#25991;&#20214;&#12290;<tt class="literal">jboss-beans.xml</tt>&#12289;<tt class="literal">persistence-test.xml</tt> &#21450; <tt class="literal">import-test.sql</tt> &#25991;&#20214;&#26159;&#29992;&#22312;&#24403;TestNG&#23545;HSQLDB&#36827;&#34892;&#21333;&#20803;&#27979;&#35797;&#26102;&#12290;
			&#22312; <tt class="literal">import-test.sql</tt> &#20013;&#30340;&#25968;&#25454;&#24211;Schema&#21450;&#20854;&#27979;&#35797;&#25968;&#25454;&#24635;&#26159;&#22312;&#27979;&#35797;&#21069;&#23601;&#24050;&#36716;&#20837;&#25968;&#25454;&#24211;&#20013;&#12290;
			<tt class="literal">myproject-dev-ds.xml</tt>&#12289;<tt class="literal">persistence-dev.xml</tt> &#21450; <tt class="literal">import-dev.sql</tt> &#25991;&#20214;&#26159;&#22312;&#37096;&#32626;&#24212;&#29992;&#21040;&#24320;&#21457;&#25968;&#25454;&#24211;&#26102;&#20351;&#29992;&#30340;&#12290;
			&#25968;&#25454;&#24211;schema&#26159;&#21542;&#21487;&#22312;&#37096;&#32626;&#26102;&#33258;&#21160;&#23548;&#20986;&#65292;&#21462;&#20915;&#20110;&#20320;&#26159;&#21542;&#22312;&#35774;&#32622;seam-gen&#29615;&#22659;&#26102;&#37197;&#32622;&#20102;&#24050;&#23384;&#22312;&#30340;&#25968;&#25454;&#24211;&#12290;
			<tt class="literal">myproject-prod-ds.xml</tt>&#12289;<tt class="literal">persistence-prod.xml</tt> &#21450; <tt class="literal">import-prod.sql</tt> &#25991;&#20214;&#26159;&#22312;&#37096;&#32626;&#24212;&#29992;&#21040;&#29983;&#20135;&#25968;&#25454;&#24211;&#26102;&#20351;&#29992;&#30340;&#12290;&#22312;&#37096;&#32626;&#26102;&#25968;&#25454;&#24211;schema&#24182;&#19981;&#33258;&#21160;&#23548;&#20986;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2701"></a>2.3.&nbsp;&#21019;&#24314;&#26032;&#21160;&#20316;</h2></div></div><div></div></div><p>
			&#33509;&#20320;&#29087;&#30693;&#20256;&#32479;&#30340;action-style Web&#26694;&#26550;&#65292;&#20320;&#25110;&#35768;&#24819;&#30693;&#36947;&#22312;Java&#20013;&#22914;&#20309;&#26469;&#21019;&#24314;&#26080;&#29366;&#24577;action&#26041;&#27861;&#30340;&#31616;&#21333;Web&#39029;&#38754;&#12290;&#22914;&#26524;&#20320;&#36755;&#20837;&#65306;
		</p><pre class="programlisting">seam new-action</pre><p>
			&#21017;Seam&#23558;&#24377;&#20986;&#19968;&#20123;&#20449;&#24687;&#24182;&#20026;&#20320;&#30340;&#39033;&#30446;&#29983;&#25104;&#26032;&#30340;Facelets&#39029;&#38754;&#21450;Seam&#32452;&#20214;&#12290;
		</p><pre class="programlisting">C:\Projects\jboss-seam&gt;seam new-action
Buildfile: build.xml

validate-workspace:

validate-project:

action-input:
    [input] Enter the Seam component name
ping
    [input] Enter the local interface name [Ping]

    [input] Enter the bean class name [PingBean]

    [input] Enter the action method name [ping]

    [input] Enter the page name [ping]


setup-filters:

new-action:
     [echo] Creating a new stateless session bean component with an action method
     [copy] Copying 1 file to C:\Projects\helloworld\src\action\org\jboss\helloworld
     [copy] Copying 1 file to C:\Projects\helloworld\src\action\org\jboss\helloworld
     [copy] Copying 1 file to C:\Projects\helloworld\src\action\org\jboss\helloworld\test
     [copy] Copying 1 file to C:\Projects\helloworld\src\action\org\jboss\helloworld\test
     [copy] Copying 1 file to C:\Projects\helloworld\view
     [echo] Type 'seam restart' and go to http://localhost:8080/helloworld/ping.seam

BUILD SUCCESSFUL
Total time: 13 seconds
C:\Projects\jboss-seam&gt;</pre><p>
			&#26032;&#22686;Seam&#32452;&#20214;&#21518;&#65292;&#25105;&#20204;&#38656;&#35201;&#37325;&#21551;&#20998;&#35299;&#24335;&#30446;&#24405;&#37096;&#32626;&#65288;exploded directory deployment&#65289;&#12290;
			&#36755;&#20837;<tt class="literal">seam restart</tt>&#65292;&#25110;&#22312;Eclipse&#20013;&#24050;&#29983;&#25104;&#39033;&#30446;&#30340; <tt class="literal">build.xml</tt> &#20013;&#36816;&#34892; <tt class="literal">restart</tt> target&#23601;&#21487;&#23436;&#25104;&#12290;
			&#21478;&#19968;&#31181;&#26041;&#24335;&#26159;&#22312;Eclipse&#20013;&#36890;&#36807;&#32534;&#36753; <tt class="literal">resources/META-INF/application.xml</tt> &#25991;&#20214;&#26469;&#24378;&#21046;&#37325;&#21551;&#12290;
			<span class="emphasis"><em>&#35831;&#27880;&#24847;&#65292;&#22312;&#27599;&#27425;&#20462;&#25913;&#24212;&#29992;&#31243;&#24207;&#26102;&#24182;&#19981;&#38656;&#35201;&#37325;&#21551;JBoss&#12290;</em></span>
		</p><p>
			&#35797;&#30528;&#22312;&#27983;&#35272;&#22120;&#20013;&#36755;&#20837; <tt class="literal">http://localhost:8080/helloworld/ping.seam</tt> &#22320;&#22336;&#24182;&#28857;&#20987;&#25353;&#38062;&#65292;&#30475;&#30475;&#21457;&#29983;&#20102;&#20160;&#20040;&#12290;
			&#22312;&#39033;&#30446;&#30340; <tt class="literal">src</tt> &#30446;&#24405;&#20013;&#21487;&#30475;&#21040;&#23436;&#25104;&#27492;&#21160;&#20316;&#30340;&#28304;&#20195;&#30721;&#12290;
			&#35797;&#30528;&#22312; <tt class="literal">ping()</tt> &#26041;&#27861;&#20013;&#35774;&#32622;&#20010;&#26029;&#28857;&#65292;&#20877;&#27425;&#28857;&#20987;&#25353;&#38062;&#65292;&#21448;&#21457;&#29983;&#20102;&#20160;&#20040;&#65311;
		</p><p>
			&#26368;&#21518;&#65292;&#22312;&#27979;&#35797;&#21253;&#20013;&#25214;&#21040; <tt class="literal">PingTest.xml</tt> &#25991;&#20214;&#65292;&#24182;&#29992;Eclipse&#30340;TestNG&#25554;&#20214;&#26469;&#36816;&#34892;&#27979;&#35797;&#12290;
			&#27492;&#22806;&#65292;&#36824;&#21487;&#29992; <tt class="literal">seam test</tt> &#25110;&#29983;&#25104;&#30340;build&#25991;&#20214;&#20013;&#30340; <tt class="literal">test</tt> target&#26469;&#36816;&#34892;&#27979;&#35797;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2751"></a>2.4.&nbsp;&#21019;&#24314;&#26377;&#21160;&#20316;&#30340;&#34920;&#21333;&#65288;form&#65289;</h2></div></div><div></div></div><p>
			&#19979;&#19968;&#27493;&#23601;&#26159;&#26469;&#21019;&#24314;&#34920;&#21333;&#20102;&#12290;&#35831;&#36755;&#20837;&#65306;
		</p><pre class="programlisting">seam new-form</pre><pre class="programlisting">C:\Projects\jboss-seam&gt;seam new-form
Buildfile: C:\Projects\jboss-seam\seam-gen\build.xml

validate-workspace:

validate-project:

action-input:
    [input] Enter the Seam component name
hello
    [input] Enter the local interface name [Hello]

    [input] Enter the bean class name [HelloBean]

    [input] Enter the action method name [hello]

    [input] Enter the page name [hello]


setup-filters:

new-form:
     [echo] Creating a new stateful session bean component with an action method
     [copy] Copying 1 file to C:\Projects\hello\src\com\hello
     [copy] Copying 1 file to C:\Projects\hello\src\com\hello
     [copy] Copying 1 file to C:\Projects\hello\src\com\hello\test
     [copy] Copying 1 file to C:\Projects\hello\view
     [copy] Copying 1 file to C:\Projects\hello\src\com\hello\test
     [echo] Type 'seam restart' and go to http://localhost:8080/hello/hello.seam

BUILD SUCCESSFUL
Total time: 5 seconds
C:\Projects\jboss-seam&gt;</pre><p>
			&#20877;&#27425;&#37325;&#21551;&#24212;&#29992;&#31243;&#24207;&#65292;&#24182;&#22312;&#27983;&#35272;&#22120;&#20013;&#36755;&#20837; <tt class="literal">http://localhost:8080/helloworld/hello.seam</tt> &#23601;&#21487;&#30475;&#21040;&#32467;&#26524;&#20102;&#12290;
			&#25509;&#30528;&#30475;&#19979;&#25152;&#29983;&#25104;&#30340;&#20195;&#30721;&#65292;&#24182;&#36816;&#34892;&#27979;&#35797;&#12290;&#35797;&#30528;&#32473;&#34920;&#21333;&#21152;&#20837;&#19968;&#20123;&#23383;&#27573;&#21450;Seam&#32452;&#20214;&#65288;&#35760;&#30528;&#22312;&#27599;&#27425;&#26356;&#25913;Java&#20195;&#30721;&#26102;&#37325;&#26032;&#37096;&#32626;&#65289;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2765"></a>2.5.&nbsp;&#20174;&#29616;&#26377;&#25968;&#25454;&#24211;&#29983;&#25104;&#24212;&#29992;&#31243;&#24207;</h2></div></div><div></div></div><p>
			&#22312;&#25968;&#25454;&#24211;&#20013;&#25163;&#24037;&#21019;&#24314;&#19968;&#20123;&#34920;&#12290;&#65288;&#22914;&#26524;&#20320;&#38656;&#35201;&#20999;&#25442;&#19981;&#21516;&#30340;&#25968;&#25454;&#24211;&#65292;&#21482;&#38656;&#20877;&#27425;&#36816;&#34892; <tt class="literal">seam setup</tt> &#21363;&#21487;&#12290;&#65289;&#29616;&#35831;&#36755;&#20837;&#65306;
		</p><pre class="programlisting">seam generate-entities</pre><p>
			&#25509;&#30528;&#37325;&#26032;&#37096;&#32626;&#65292;&#24182;&#22312;&#27983;&#35272;&#22120;&#20013;&#36755;&#20837; <tt class="literal">http://localhost:8080/helloworld</tt> &#23601;&#21487;&#30475;&#21040;&#32467;&#26524;&#20102;&#12290;
			&#20320;&#21487;&#20197;&#35797;&#30528;&#27983;&#35272;&#25968;&#25454;&#24211;&#65292;&#32534;&#36753;&#29616;&#26377;&#30340;&#23545;&#35937;&#65292;&#24182;&#21019;&#24314;&#26032;&#30340;&#23545;&#35937;&#12290;&#22914;&#26524;&#20320;&#30475;&#19979;&#25152;&#29983;&#25104;&#30340;&#20195;&#30721;&#65292;&#20320;&#21487;&#33021;&#20250;&#23545;&#22914;&#27492;&#31616;&#21333;&#30340;&#20195;&#30721;&#24863;&#21040;&#24778;&#35766;&#12290;
			&#35753;&#24320;&#21457;&#20154;&#21592;&#65292;&#23588;&#20854;&#26159;&#37027;&#20123;&#19981;&#29976;&#20110;&#21463;Seam-gen&#25670;&#24067;&#30340;&#24320;&#21457;&#20154;&#21592;&#65292;&#31616;&#21333;&#22320;&#25163;&#24037;&#32534;&#20889;&#25968;&#25454;&#35775;&#38382;&#20195;&#30721;&#65292;&#26159;Seam&#30340;&#35774;&#35745;&#30446;&#26631;&#20043;&#19968;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2780"></a>2.6.&nbsp;&#23558;&#24212;&#29992;&#37096;&#32626;&#20026;EAR</h2></div></div><div></div></div><p>
			&#26368;&#21518;&#65292;&#25105;&#20204;&#24819;&#30693;&#36947;&#33021;&#21542;&#29992;&#26631;&#20934;&#30340;Java EE&#21253;&#26469;&#37096;&#32626;&#24212;&#29992;&#12290;&#39318;&#20808;&#65292;&#36890;&#36807;&#36816;&#34892; <tt class="literal">seam unexplode</tt> &#26469;&#31227;&#36208;&#20998;&#35299;&#24335;&#30446;&#24405;&#65288;exploded directory)&#12290;
			&#22312;&#21629;&#20196;&#34892;&#20013;&#36755;&#20837; <tt class="literal">seam deploy</tt> &#25110;&#36816;&#34892;&#29983;&#25104;&#30340;Build&#33050;&#26412;&#25991;&#20214;&#20013;&#30340; <tt class="literal">deploy</tt> target&#23601;&#21487;&#23436;&#25104;EAR&#30340;&#37096;&#32626;&#65292;&#29992; <tt class="literal">seam undeploy</tt> &#21629;&#20196;&#25110;&#36816;&#34892; <tt class="literal">undeploy</tt> &#30446;&#26631;&#21487;&#21368;&#19979;EAR&#12290;
		</p><p>
			&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#24212;&#29992;&#31243;&#24207;&#20250;&#29992; <span class="emphasis"><em>dev profile</em></span> &#26469;&#37096;&#32626;&#65292;EAR&#23558;&#21253;&#21547;<tt class="literal">persistence-dev.xml</tt>&#21450;<tt class="literal">import-dev.sql</tt>&#25991;&#20214;&#65292;<tt class="literal">myproject-dev-ds.xml</tt> &#25991;&#20214;&#20063;&#20250;&#34987;&#37096;&#32626;&#12290;
			&#36890;&#36807;&#36755;&#20837;&#20197;&#19979;&#30340;&#21629;&#20196;&#20320;&#23601;&#21487;&#20197;&#26356;&#25913;profile, &#24182;&#21487;&#20351;&#29992; <span class="emphasis"><em>prod profile</em></span>&#65306;
		</p><pre class="programlisting">seam -Dprofile=prod deploy</pre><p>
		&#20320;&#29978;&#33267;&#21487;&#20197;&#32473;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#23450;&#20041;&#26032;&#30340;&#37096;&#32626;profile&#65292;&#21482;&#38656;&#22312;&#39033;&#30446;&#20013;&#21152;&#20837;&#21512;&#36866;&#30340;&#25991;&#20214;&#65292;
		&#20363;&#22914;&#65306;<tt class="literal">persistence-staging.xml</tt>&#12289;<tt class="literal">import-staging.sql</tt> &#21450; <tt class="literal">myproject-staging-ds.xml</tt> &#8212; &#24182;&#36873;&#25321;&#20351;&#29992;&#20102; <tt class="literal">-Dprofile=staging</tt> &#21517;&#23383;&#30340;profile&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gettingstarted-hotdeployment"></a>2.7.&nbsp;Seam&#19982;&#22686;&#37327;&#28909;&#37096;&#32626;</h2></div></div><div></div></div><p>
			&#23558;Seam&#24212;&#29992;&#37096;&#32626;&#25104;exploded&#30446;&#24405;&#30340;&#22909;&#22788;&#26159;&#65292;&#20320;&#33021;&#22312;&#24320;&#21457;&#26102;&#24471;&#21040;&#22686;&#37327;&#28909;&#37096;&#32626;&#30340;&#25903;&#25345;&#12290;
			&#20320;&#21482;&#38656;&#22312; <tt class="literal">components.xml</tt> &#20013;&#28155;&#21152;&#36825;&#19968;&#34892;&#26469;&#21551;&#29992;Seam&#21644;Facelet&#20013;&#30340;debug&#27169;&#24335;&#21363;&#21487;:
		</p><pre class="programlisting">&lt;core:init debug="true"/&gt;</pre><p>
			&#36825;&#26679;&#19968;&#26469;&#65292;&#37325;&#26032;&#37096;&#32626;&#20197;&#19979;&#25991;&#20214;&#26102;&#23601;&#19981;&#19968;&#23450;&#35201;&#23436;&#20840;&#22320;&#37325;&#21551;web&#24212;&#29992;&#20102;&#65306;
		</p><div class="itemizedlist"><ul type="disc"><li><p>&#20219;&#24847;Facelet&#39029;&#38754;</p></li><li><p>&#20219;&#24847; <tt class="literal">pages.xml</tt> &#25991;&#20214;</p></li></ul></div><p>
			&#33509;&#24819;&#23545;Java&#20195;&#30721;&#36827;&#34892;&#21464;&#26356;&#65292;&#23601;&#38656;&#35201;&#23436;&#20840;&#30340;&#24212;&#29992;&#37325;&#21551;&#12290;
			&#65288;&#22312;JBoss&#20013;&#65292;&#23545;&#20110;EAR&#37096;&#32626;&#65292;&#36825;&#38656;&#35201;&#29992;touch&#21629;&#20196;&#25913;&#21464;&#39030;&#23618;&#30340;&#37096;&#32626;&#25551;&#36848;&#25991;&#20214;&#65306;&#23545;&#20110;EAR&#37096;&#32626;&#65292;&#21017;&#26159;<tt class="literal">application.xml</tt>&#65292;&#32780;&#23545;&#20110;WAR&#37096;&#32626;&#65292;&#21017;&#26159;<tt class="literal">web.xml</tt> &#12290;&#65289;
		</p><p>
			&#20294;&#20320;&#30495;&#27491;&#24819;&#21152;&#24555;&#32534;&#36753;/&#32534;&#35793;/&#27979;&#35797;&#30340;&#27969;&#31243;&#65292;Seam&#25903;&#25345;&#23545;JavaBean&#32452;&#20214;&#36827;&#34892;&#22686;&#37327;&#24335;&#37325;&#37096;&#32626;&#12290;
			&#20026;&#20102;&#29992;&#19978;&#27492;&#21151;&#33021;&#65292;&#20320;&#24517;&#39035;&#25226;JavaBean&#32452;&#20214;&#37096;&#32626;&#21040; <tt class="literal">WEB-INF/dev</tt> &#30446;&#24405;&#20013;&#65292;&#20197;&#20415;&#23427;&#20204;&#33021;&#34987;&#29305;&#27530;&#30340;Seam&#31867;&#21152;&#36733;&#22120;&#21152;&#36733;&#65292;&#32780;&#19981;&#26159;WAR&#25110;EAR&#31867;&#21152;&#36733;&#22120;&#12290;
		</p><p>
			&#35831;&#27880;&#24847;&#20197;&#19979;&#30340;&#38480;&#21046;&#65306;
		</p><div class="itemizedlist"><ul type="disc"><li><p>
					&#24517;&#39035;&#26159;JavaBean&#32452;&#20214;&#65292;&#32780;&#19981;&#33021;&#26159;EJB3 Beans&#65288;&#27492;&#38480;&#21046;&#27491;&#22312;&#35299;&#20915;&#20013;&#65289;
				</p></li><li><p>
					&#23454;&#20307;Bean&#19981;&#21487;&#28909;&#37096;&#32626;
				</p></li><li><p>
					&#36890;&#36807; <tt class="literal">components.xml</tt> &#37096;&#32626;&#30340;&#32452;&#20214;&#21487;&#33021;&#26080;&#27861;&#28909;&#37096;&#32626;
				</p></li><li><p>
					&#22312; <tt class="literal">WEB-INF/dev</tt> &#20043;&#22806;&#37096;&#32626;&#30340;&#20219;&#20309;&#31867;&#37117;&#26080;&#27861;&#35775;&#38382;&#21487;&#28909;&#37096;&#32626;&#30340;&#32452;&#20214;
				</p></li><li><p>
					&#39035;&#21551;&#29992;Seam&#30340;debug&#27169;&#24335;
				</p></li></ul></div><p>
			&#22914;&#26524;&#20320;&#29992;Seam-gen&#21019;&#24314;WAR&#39033;&#30446;&#65292;&#22686;&#37327;&#28909;&#37096;&#32626;&#23545;&#20110;src/action&#30446;&#24405;&#19979;&#30340;&#31867;&#26159;&#30452;&#25509;&#21487;&#29992;&#30340;&#65292;&#20294;&#26159;&#23545;&#20110;EAR&#39033;&#30446;&#19981;&#34892;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2894"></a>2.8.&nbsp;&#22312;Jboss 4.0&#19979;&#20351;&#29992;Seam</h2></div></div><div></div></div><p>
			Seam 2.0&#26159;&#38024;&#23545;JavaServer Faces 1.2&#24320;&#21457;&#30340;&#65292;&#25152;&#20197;&#25105;&#20204;&#25512;&#33616;&#22312;JBoss 4.2&#19979;&#20351;&#29992;Seam&#65292;&#22240;&#20026;&#23427;&#21253;&#21547;&#20102;JSF 1.2&#21442;&#32771;&#23454;&#29616;&#12290;
			&#28982;&#32780;&#20173;&#28982;&#26377;&#21150;&#27861;&#22312;Jboss 4.0&#19979;&#20351;&#29992;Seam&#12290;&#38656;&#35201;&#20004;&#20010;&#27493;&#39588;&#65306;&#23433;&#35013;&#21551;&#29992;&#20102;EJB3&#30340;Jboss 4.0&#29256;&#26412;&#24182;&#19988;&#25226;MyFaces&#26367;&#25442;&#20026;JSF1.2&#21442;&#32771;&#23454;&#29616;&#12290;
			&#20320;&#23436;&#25104;&#36825;&#20004;&#20010;&#27493;&#39588;&#21518;&#65292;Seam2.0&#23601;&#21487;&#20197;&#22312;JBoss 4.0&#19979;&#37096;&#32626;&#20102;&#12290;
		</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2899"></a>2.8.1.&nbsp;&#23433;&#35013;JBoss 4.0</h3></div></div><div></div></div><p>
				JBoss 4.0&#27809;&#26377;&#38024;&#23545;Seam&#30340;&#40664;&#35748;&#37197;&#32622;&#12290;&#24819;&#35201;&#36816;&#34892;Seam&#65292;&#20320;&#24517;&#39035;&#29992;JEMS 1.2&#23433;&#35013;&#22120;&#24182;&#19988;&#36873;&#25321;EJB3 profile&#12290;
				&#22914;&#26524;&#27809;&#26377;EJB3&#25903;&#25345;Seam&#26159;&#19981;&#33021;&#27491;&#24120;&#36816;&#34892;&#30340;&#12290;JEMS&#23433;&#35013;&#22120;&#21487;&#20197;&#22312;&#36825;&#37324;&#19979;&#36733;&#65306;
				<a href="http://labs.jboss.com/jemsinstaller/downloads" target="_top">http://labs.jboss.com/jemsinstaller/downloads</a>&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2907"></a>2.8.2.&nbsp;&#23433;&#35013;JSF 1.2 RI</h3></div></div><div></div></div><p>
				JBoss 4.0&#30340;&#37197;&#32622;&#21487;&#20197;&#22312; <tt class="literal">server/default/deploy/jbossweb-tomcat55.sar</tt> &#25214;&#21040;&#12290;
				&#20320;&#38656;&#35201;&#20174; <tt class="literal">jsf-libs</tt> &#30446;&#24405;&#21024;&#38500; <tt class="literal">myfaces-api.jar</tt> &#21644; <tt class="literal">myfaces-impl.jar</tt>&#25991;&#20214;&#12290;
				&#20320;&#36824;&#38656;&#35201;&#25226; <tt class="literal">jsf-api.jar</tt>&#12289;<tt class="literal">jsf-impl.jar</tt>&#12289;<tt class="literal">el-api.jar</tt> &#21644; <tt class="literal">el-ri.jar</tt> &#22797;&#21046;&#21040;&#37027;&#20010;&#30446;&#24405;&#19979;&#12290;&#20320;&#21487;&#20197;&#22312;Seam&#30340;lib&#25991;&#20214;&#22841;&#19979;&#25214;&#21040;&#36825;&#20123;JAR&#25991;&#20214;&#12290;EL JAR&#25991;&#20214;&#21487;&#20197;&#20174;Seam 1.2&#21457;&#34892;&#29256;&#20013;&#33719;&#21462;&#12290;
			</p><p>
				&#20320;&#36824;&#38656;&#35201;&#32534;&#36753; <tt class="literal">conf/web.xml</tt> &#25991;&#20214;&#65292;&#25226; <tt class="literal">myfaces-impl.jar</tt> &#26367;&#25442;&#20026; <tt class="literal">jsf-impl.jar</tt>&#12290;
			</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tutorial.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="concepts.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;1.&nbsp;Seam &#20837;&#38376;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;3.&nbsp;&#19978;&#19979;&#25991;&#30456;&#20851;&#30340;&#32452;&#20214;&#27169;&#22411;</td></tr></table></div></body></html>